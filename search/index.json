[{"content":"ä»€éº¼æ˜¯ Homebrewï¼Ÿ Homebrew æ˜¯ä¸€å€‹é–‹æºçš„å¥—ä»¶ç®¡ç†å·¥å…·ï¼Œå¯ä»¥è¼•é¬†åœ°å®‰è£ã€æ›´æ–°ã€åˆªé™¤å’Œç®¡ç†è»Ÿé«”æˆ–é–‹ç™¼å·¥å…·ã€‚\nåœ¨ Linux ä¸Šï¼ŒHomebrew ä¹Ÿèƒ½å¹«åŠ©ä½ è™•ç†ç³»çµ±çš„ä¾è³´æ€§ï¼Œç°¡åŒ–å¥—ä»¶çš„ç®¡ç†æµç¨‹ã€‚\nå®‰è£å‰çš„æº–å‚™ åœ¨é–‹å§‹ä¹‹å‰ï¼Œè«‹ç¢ºä¿ä½ çš„ Linux ç³»çµ±å…·æœ‰ä»¥ä¸‹æ¢ä»¶ï¼š\næ”¯æ´çš„ Linux ç™¼è¡Œç‰ˆï¼ˆå¦‚ Ubuntuã€Debian ç­‰ï¼‰ã€‚ å®‰è£äº†åŸºæœ¬çš„ç³»çµ±å·¥å…·ï¼ˆå¦‚ bash å’Œ curlï¼‰ã€‚ å®‰è£æ­¥é©Ÿ å®‰è£ Homebrew åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ä¾†å®‰è£ Homebrewï¼š\n1 /bin/bash -c \u0026#34;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\u0026#34; å°‡ Homebrew åŠ å…¥ PATH å®‰è£å®Œæˆå¾Œï¼Œå°‡ Homebrew åŠ å…¥ç³»çµ±çš„ PATH ä»¥ä¾¿éš¨æ™‚ä½¿ç”¨ã€‚\nåŸ·è¡Œä»¥ä¸‹å‘½ä»¤ä¾†ä¿®æ”¹ä½ çš„ .bashrc æ–‡ä»¶ï¼š\n1 2 3 echo \u0026gt;\u0026gt; /home/ä½ çš„ä½¿ç”¨è€…åç¨±/.bashrc echo \u0026#39;eval \u0026#34;$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\u0026#34;\u0026#39; \u0026gt;\u0026gt; /home/ä½ çš„ä½¿ç”¨è€…åç¨±/.bashrc eval \u0026#34;$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\u0026#34; é€™äº›å‘½ä»¤æœƒå°‡ Homebrew çš„è·¯å¾‘åŠ åˆ°ä½ çš„ç’°å¢ƒè®Šæ•¸ä¸­ï¼Œè®“ç³»çµ±èƒ½æ­£ç¢ºæ‰¾åˆ° brew å‘½ä»¤ã€‚\nå®‰è£ Homebrew çš„ä¾è³´ é€™å€‹æŒ‡ä»¤æœƒå®‰è£ä¸€çµ„ç·¨è­¯å·¥å…·ï¼Œç¢ºä¿ Homebrew å¯ä»¥æ­£å¸¸é‹è¡Œã€‚\n1 sudo apt-get install build-essential å®‰è£ GCC ç·¨è­¯å™¨ Homebrew ä¾è³´ GCCï¼ˆGNU ç·¨è­¯å™¨é›†åˆï¼‰ä¾†æ§‹å»ºä¸€äº›å¥—ä»¶ã€‚\nä½ å¯ä»¥é€éä»¥ä¸‹æŒ‡ä»¤å®‰è£ï¼š\n1 brew install gcc æ¸¬è©¦ ç¢ºèª brew æ˜¯å¦æ­£å¸¸é‹è¡Œ\n1 brew help å¸¸è¦‹æŒ‡ä»¤ æœç´¢å¥—ä»¶ï¼š 1 brew search [å¥—ä»¶åç¨±] å®‰è£å¥—ä»¶ï¼š 1 brew install [å¥—ä»¶åç¨±] æ›´æ–° Homebrewï¼š 1 brew update ç§»é™¤å¥—ä»¶ï¼š 1 brew uninstall [å¥—ä»¶åç¨±] æª¢æŸ¥ç³»çµ±ç‹€æ…‹ï¼š 1 brew doctor ","date":"2024-12-10T00:00:00+08:00","image":"https://www.chihyu.me/images/linux/banner.jpg","permalink":"https://www.chihyu.me/2024/12/linux-homebrew-installation/","title":"å¦‚ä½•åœ¨ Linux ä¸Šå®‰è£ Homebrew ?"},{"content":"å‰è¨€ ç¹¼ä¸Šä¸€ç¯‡ Docker åŸºæœ¬ä»‹ç´¹ çš„èªªæ˜ï¼Œå·²ç¶“åˆæ­¥äº†è§£ dockerï¼Œä»Šå¤©æˆ‘å€‘è¦åœ¨ Ubuntu ä¸Šå®‰è£ docker\nåœ¨ Ubuntu ä¸Šå®‰è£ Docker ä»¥ä¸‹æ˜¯é€æ­¥åœ¨ Ubuntu ä¸Šå®‰è£ Docker çš„æŒ‡å—ï¼š\næ›´æ–°å¥—ä»¶ åœ¨å®‰è£ Docker ä¹‹å‰ï¼Œå»ºè­°å…ˆæ›´æ–°ç³»çµ±ä¸­çš„å¥—ä»¶ä»¥ç¢ºä¿ç‰ˆæœ¬æ˜¯æœ€æ–°çš„ã€‚\n1 2 sudo apt update sudo apt upgrade -y å®‰è£å¿…è¦çš„ä¾è³´å¥—ä»¶ æ¥è‘—ï¼Œå®‰è£ä¸€äº›å¿…è¦çš„å‰ç½®å¥—ä»¶ã€‚\n1 sudo apt install apt-transport-https ca-certificates curl software-properties-common -y æ–°å¢ Docker çš„è»Ÿé«”æºåŠå®‰è£ docker æ·»åŠ  Docker çš„ GPG å¯†é‘°ä»¥åŠ Docker è»Ÿé«”æºåˆ°ä½ çš„ç³»çµ±ä¸­ã€‚\n1 2 3 4 5 curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add - sudo add-apt-repository \u0026#34;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\u0026#34; sudo apt update sudo apt install docker-ce -y é©—è­‰å®‰è£ å®‰è£å®Œæˆå¾Œï¼Œå¯ä»¥ç”¨ä»¥ä¸‹æŒ‡ä»¤ç¢ºèª Docker æ˜¯å¦æ­£åœ¨é‹è¡Œï¼š\n1 sudo systemctl status docker ä½ æ‡‰è©²æœƒçœ‹åˆ°è¼¸å‡ºé¡¯ç¤º Docker è™•æ–¼ã€Œactive (running)ã€ç‹€æ…‹ã€‚\nè¨­ç½®é–‹æ©Ÿå•Ÿå‹• 1 sudo systemctl enable docker ä»¥é root ç”¨æˆ¶åŸ·è¡Œ Docker é è¨­æƒ…æ³ä¸‹ï¼ŒåŸ·è¡Œ Docker æŒ‡ä»¤éœ€è¦ä½¿ç”¨ sudo æ¬Šé™ã€‚å¦‚æœå¸Œæœ›ç”¨é root ç”¨æˆ¶åŸ·è¡Œ Dockerï¼Œå¯ä»¥å°‡ç•¶å‰ç”¨æˆ¶åŠ å…¥ docker ç¾¤çµ„ï¼š\n1 sudo usermod -aG docker ${USER} æ¸¬è©¦ åŸ·è¡Œä¸€å€‹æ¸¬è©¦å®¹å™¨ä¾†ç¢ºèª Docker æ˜¯å¦æ­£å¸¸é‹è¡Œï¼š 1 docker run hello-world åŸ·è¡Œ docker ps çš„ç¢ºèª æœƒçœ‹åˆ°é€™æ¨£é¡ä¼¼çš„å…§å®¹:\n1 2 CONTAINER ID IMAGE COMMAND CREATED STATUS NAMES 1a2b3c4d5e6f hello-world \u0026#34;/hello\u0026#34; 5 minutes ago Exited (0) 3 minutes ago amazing_brown ","date":"2024-11-14T14:00:00+08:00","image":"https://www.chihyu.me/images/docker/banner.jpg","permalink":"https://www.chihyu.me/2024/11/docker-installation-on-ubuntu/","title":"åœ¨ Ubuntu ä¸Šå®‰è£ Docker"},{"content":"Docker æ˜¯ä»€éº¼ï¼Ÿ Docker æ˜¯ä¸€å€‹ç”¨æ–¼é–‹ç™¼ã€éƒ¨ç½²å’ŒåŸ·è¡Œæ‡‰ç”¨ç¨‹å¼çš„å¹³å°ï¼Œåˆ©ç”¨å®¹å™¨ä¾†æä¾›ä¸€è‡´çš„åŸ·è¡Œç’°å¢ƒã€‚ä»¥ä¸‹æ˜¯æ›´è©³ç´°çš„ä»‹ç´¹ï¼š\n1. å®¹å™¨ (Containers) Docker å®¹å™¨æ˜¯è¼•é‡ç´šã€ç¨ç«‹åŸ·è¡Œçš„è»Ÿé«”åŒ…ï¼ŒåŒ…å«äº†é‹è¡Œæ‡‰ç”¨æ‰€éœ€çš„æ‰€æœ‰å…§å®¹ï¼Œå¦‚ç¨‹å¼ç¢¼ã€åŸ·è¡Œç’°å¢ƒã€ç³»çµ±å·¥å…·ã€å‡½å¼åº«å’Œè¨­å®šæª”ã€‚å®¹å™¨ä¹‹é–“ä»¥åŠå®¹å™¨èˆ‡ä¸»æ©Ÿç³»çµ±æ˜¯ç›¸äº’éš”é›¢çš„ï¼Œç¢ºä¿æ‡‰ç”¨ç¨‹å¼èƒ½å¤ åœ¨ä¸åŒç’°å¢ƒä¸­ä¸€è‡´åŸ·è¡Œã€‚\n2. ä¸€è‡´æ€§èˆ‡å¯æ”œæ€§ (Consistency and Portability) å®¹å™¨å°è£äº†æ‰€æœ‰çš„ä¾è³´å’Œé…ç½®ï¼Œä½¿å¾—æ‡‰ç”¨ç¨‹å¼å¯ä»¥åœ¨é–‹ç™¼ç’°å¢ƒã€æ¸¬è©¦ç’°å¢ƒæˆ–ç”Ÿç”¢ç’°å¢ƒä¸­ä¿æŒä¸€è‡´çš„è¡Œç‚ºã€‚\n3. æ˜ åƒæª”èˆ‡ Docker Hub (Images and Docker Hub) Docker ä½¿ç”¨æ˜ åƒæª”ä½œç‚ºå®¹å™¨çš„ã€Œè—åœ–ã€ã€‚æ˜ åƒæª”é€šå¸¸åŸºæ–¼å…¶ä»–æ˜ åƒæª”é€²è¡Œè‡ªè¨‚ã€‚Docker Hub æ˜¯ä¸€å€‹å…¬å…±çš„æ˜ åƒæª”è¨»å†Šåº«ï¼Œç”¨æˆ¶å¯ä»¥åœ¨æ­¤ä¸Šå‚³æˆ–ä¸‹è¼‰æ˜ åƒæª”ï¼Œæ–¹ä¾¿æ‡‰ç”¨ç¨‹å¼çš„åˆ†äº«èˆ‡åˆ†ç™¼ã€‚\n4. Docker å¼•æ“ (Docker Engine) Docker å¼•æ“æ˜¯ Docker çš„æ ¸å¿ƒï¼Œè² è²¬åœ¨ç³»çµ±ä¸Šç®¡ç†å®¹å™¨çš„å®ˆè­·ç¨‹åºã€‚ç”¨æˆ¶å¯ä»¥é€é Docker çš„å‘½ä»¤åˆ—ä»‹é¢ (CLI) æˆ– API èˆ‡å¼•æ“äº’å‹•ã€‚\n5. DevOps èˆ‡ CI/CD æ•´åˆ Docker åœ¨ DevOps ç¤¾ç¾¤ä¸­å‚™å—æ­¡è¿ï¼Œå› ç‚ºå®ƒèƒ½ç°¡åŒ–æŒçºŒæ•´åˆèˆ‡æŒçºŒéƒ¨ç½² (CI/CD) çš„æµç¨‹ï¼Œæå‡é–‹ç™¼èˆ‡éƒ¨ç½²çš„æ•ˆç‡ã€‚\nå»¶ä¼¸é–±è®€: åœ¨ Ubuntu ä¸Šå®‰è£ Docker ","date":"2024-11-12T14:00:00+08:00","image":"https://www.chihyu.me/images/docker/banner.jpg","permalink":"https://www.chihyu.me/2024/11/docker-introduction/","title":"Docker åŸºæœ¬ä»‹ç´¹"},{"content":"å‰è¨€ SSH Key æ˜¯ä¸€ç¨®åŸºæ–¼åŠ å¯†çš„èº«ä»½é©—è­‰æ–¹å¼ï¼Œå¸¸ç”¨æ–¼é ç«¯é€£ç·šä¼ºæœå™¨æˆ–ç‰ˆæœ¬æ§åˆ¶ç³»çµ±ï¼ˆå¦‚ Gitï¼‰ã€‚ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨ Linux ç³»çµ±ä¸Šå¿«é€Ÿç”Ÿæˆ SSH Key çš„æ­¥é©Ÿã€‚\nä¸»è¦ æ‰“é–‹ Terminal ä¸¦åŸ·è¡ŒæŒ‡ä»¤ é¦–å…ˆï¼Œé–‹å•Ÿ Terminal ä¸¦åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ä¾†ç”¢ç”Ÿæ–°çš„ SSH Keyï¼š\n1 ssh-keygen -t rsa -b 4096 -C \u0026#34;your_email@example.com\u0026#34; æŒ‡ä»¤èªªæ˜:\nssh-keygenï¼šç”¢ç”Ÿ SSH é‡‘é‘°çš„å·¥å…·ã€‚ -t rsaï¼šæŒ‡å®šä½¿ç”¨ RSA æ¼”ç®—æ³•ç”Ÿæˆé‡‘é‘°ã€‚ -b 4096ï¼šè¨­å®šé‡‘é‘°é•·åº¦ç‚º 4096 ä½å…ƒï¼Œä»¥æå‡å®‰å…¨æ€§ã€‚ -C \u0026ldquo;your_email@example.com\u0026rdquo;ï¼šé™„åŠ ä¸€å€‹ email ä½œç‚ºæ­¤é‡‘é‘°çš„è­˜åˆ¥æ¨™ç±¤ã€‚ æŒ‡å®šå­˜æ”¾ä½ç½® åŸ·è¡ŒæŒ‡ä»¤å¾Œï¼Œç³»çµ±æœƒè©¢å•æ˜¯å¦è¦å„²å­˜é‡‘é‘°è‡³é è¨­è·¯å¾‘ï¼ˆ~/.ssh/id_rsaï¼‰ã€‚å¦‚æœæ¥å—é è¨­è·¯å¾‘ï¼Œç›´æ¥æŒ‰ä¸‹ Enterï¼›\nè‹¥å¸Œæœ›å­˜åˆ°å…¶ä»–è·¯å¾‘ï¼Œå‰‡å¯æ‰‹å‹•æŒ‡å®šè·¯å¾‘ã€‚\n1 Enter file in which to save the key (/home/username/.ssh/id_rsa): è¨­å®šå¯†ç¢¼ï¼ˆé¸å¡«ï¼‰ æ¥è‘—æœƒæç¤ºæ˜¯å¦ç‚º SSH Key è¨­å®šå¯†ç¢¼ã€‚é€™æ˜¯é¡å¤–çš„å®‰å…¨å±¤ï¼Œè‹¥è¨­ç½®å¯†ç¢¼ï¼Œåœ¨ä½¿ç”¨ SSH Key æ™‚éœ€è¦è¼¸å…¥è©²å¯†ç¢¼ã€‚\nè‹¥ä¸éœ€è¦å¯†ç¢¼ï¼ŒæŒ‰ä¸‹ Enter è·³éæ­¤æ­¥é©Ÿã€‚\n1 Enter passphrase (empty for no passphrase): å®Œæˆä¸¦ç¢ºèªé‡‘é‘°ç”Ÿæˆ å®Œæˆä¸Šè¿°æ­¥é©Ÿå¾Œï¼Œç³»çµ±æœƒç”Ÿæˆä¸€çµ„å…¬é‘°ï¼ˆid_rsa.pubï¼‰å’Œç§é‘°ï¼ˆid_rsaï¼‰ï¼Œ åˆ†åˆ¥å„²å­˜åœ¨ ~/.ssh ç›®éŒ„ä¸‹ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æª¢è¦–ç”Ÿæˆçš„å…¬é‘°ï¼š\næŸ¥çœ‹å…¬é‘° 1 cat ~/.ssh/id_rsa.pub ","date":"2024-10-29T00:00:00+08:00","image":"https://www.chihyu.me/images/linux/banner.jpg","permalink":"https://www.chihyu.me/2024/10/linux-generate-ssh-key/","title":"Linux ç”¢ç”Ÿ SSH Key"},{"content":"å‰è¨€ ç¹¼ä¸Šä¸€ç¯‡ è®“ Windows ç›´æ¥ä½¿ç”¨ Linux (ä¸€) - WSL2 å®‰è£ çš„èªªæ˜ï¼Œæˆ‘å€‘å·²ç¶“èƒ½é †åˆ©åœ¨ windows ä½¿ç”¨ Linux äº†ã€‚\næ‰€ä»¥é€™ç¯‡æˆ‘è¦ä¾†èªªæ˜ï¼Œå¦‚æœè¤‡è£½å¤šå€‹ Linux ä½¿ç”¨ï¼Œå„è‡ªçš„ Linuxï¼Œéƒ½æ˜¯ç¨ç«‹çš„æ©Ÿå™¨ã€‚\nç‚ºä»€éº¼æœƒéœ€è¦è¤‡è£½å‘¢ ? ä»¥æˆ‘çš„æƒ…å¢ƒï¼Œä¸€å°ç©ºç™½çš„é›»è…¦ä¸€å®šéœ€è¦å®‰è£è‡ªå·±ç¿’æ…£ä½¿ç”¨çš„è»Ÿé«”ï¼Œæ‰€ä»¥æˆ‘æœƒå°‡ç¬¬ä¸€å° Linux å®‰è£æˆ‘è¦çš„è»Ÿé«”ç•¶ä½œåŸºåº•ï¼Œç„¶å¾Œè¤‡è£½å‡ºå…¶ä»–æˆ‘å¹³å¸¸è¦ä½¿ç”¨çš„ï¼Œ è¬ä¸€æœ‰å“ªå¤©è¦é‡æ–°å®‰è£çš„æ™‚å€™ï¼Œå°±ä¸ç”¨å…¨éƒ¨é‡ä¾†ï¼Œåªéœ€è¦æŠŠæˆ‘è¨­å®šå¥½çš„å†è¤‡è£½å‡ºä¾†ä¸€æ¬¡å³å¯ï¼Œéå¸¸æ–¹ä¾¿ã€‚\nå¦‚ä½•è¤‡è£½ å…¶å¯¦å°±æ˜¯å°‡æˆ‘çš„å®¹å™¨åŒ¯å‡ºå†åŒ¯å…¥ä¸€å€‹æ–°çš„é€™æ¨£ï¼Œä»¥ä¸‹æˆ‘æœƒèªªæ˜å¦‚ä½•åŒ¯å‡ºåŠåŒ¯å…¥ã€‚\nåŒ¯å‡º é–‹å•Ÿ Power Shell ä¸¦ä½¿ç”¨ç³»çµ±ç®¡ç†å“¡ã€‚\næŒ‡ä»¤ 1 wsl --export \u0026lt;distribution name\u0026gt; \u0026lt;export file name\u0026gt; æ¬„ä½ èªªæ˜ \u0026lt;distribution name\u0026gt; WSLä¸­è¦åŒ¯å‡ºçš„ç™¼è¡Œç‰ˆåç¨±ã€‚ \u0026lt;export file name\u0026gt; å°‡åŒ¯å‡ºçš„ç™¼è¡Œç‰ˆå­˜ç‚ºçš„æª”æ¡ˆåç¨±åŠè·¯å¾‘ã€‚ example 1 wsl --export Ubuntu ubuntu.tar åŒ¯å‡ºå¾Œå°±æœƒç”¢ç”Ÿä¸€å€‹ tar å£“ç¸®æª”ã€‚\nåŒ¯å…¥ é€éåŒ¯å‡ºç”¢ç”Ÿçš„ tar æª”ï¼ŒåŒ¯å…¥æ–°çš„ã€‚\næŒ‡ä»¤ 1 wsl --import \u0026lt;new distribution name\u0026gt; \u0026lt;install location\u0026gt; \u0026lt;export file name\u0026gt; example 1 wsl --import UbuntuDev1 .\\UbuntuDev1 ubuntu.tar æ¬„ä½ èªªæ˜ \u0026lt;new distribution name\u0026gt; åŒ¯å…¥çš„ WSL ç™¼è¡Œç‰ˆçš„åç¨±ã€‚ \u0026lt;install location\u0026gt; æ–°ç™¼è¡Œç‰ˆçš„å®‰è£è·¯å¾‘ã€‚ \u0026lt;export file name\u0026gt; è¦åŒ¯å…¥çš„ .tar æª”æ¡ˆã€‚ âš ï¸ é€™éœ€è¦æ³¨æ„å®‰è£çš„è·¯å¾‘ï¼ŒåŒ¯å…¥å¾Œæœƒåœ¨ç•¶ä¸‹ç”¢ç”Ÿä¸€å€‹è·¯å¾‘ç”¢ç”Ÿè³‡æ–™å¤¾ ä½œç‚º WSL ç¶å®šçš„åç¨±ã€‚ (é€™å€‹è³‡æ–™å¤¾ç æ‰è£¡é¢æ±è¥¿å°±æ²’äº†)\nTerminal è¨­å®š é€™é‚Šé‚„æœ‰ä¸€å€‹å°å° tips ï¼Œ æ–°è¤‡è£½å‡ºä¾†çš„æ¬Šé™æœƒå† rootï¼Œè‹¥è¦é–‹å•Ÿå°±æ˜¯å¹³å¸¸çš„ä½¿ç”¨çš„ user çš„è©±ï¼Œ å°±åŠ ä¸Š -u user é€™é‚Š user æŒ‡å¾—æ˜¯æˆ‘ç•¶åˆå»ºç«‹ Ubuntu çš„ä½¿ç”¨è€…ï¼Œå¯ä»¥æ”¹æˆä½ å€‘ç•¶åˆå»ºç«‹çš„ä½¿ç”¨è€…ç‚ºä¸»ã€‚\n","date":"2024-10-28T00:00:00+08:00","image":"https://www.chihyu.me/images/windows/wsl2-banner.png","permalink":"https://www.chihyu.me/2024/10/windows-wsl2-export-and-import/","title":"è®“ Windows ç›´æ¥ä½¿ç”¨ Linux (äºŒ) - WSL2 è¤‡è£½è¡“"},{"content":"å‰è¨€ åœ¨ Windows ç³»çµ±ä¸­é‹è¡Œ WSLï¼ˆWindows Subsystem for Linuxï¼‰å¯ä»¥è®“é–‹ç™¼è€…ä¸éœ€è™›æ“¬æ©Ÿå°±ç›´æ¥åŸ·è¡Œ Linux ç’°å¢ƒï¼Œä½†åœ¨å®‰è£æˆ–è¨­å®šæ™‚ï¼Œæœ‰æ™‚å¯èƒ½æœƒé‡åˆ° WslRegisterDistribution failed with error: 0x8004032d éŒ¯èª¤ï¼Œé€šå¸¸æ˜¯å› ç‚º WSL è¨­å®šä¸ç•¶ã€ç³»çµ±å…ƒä»¶éèˆŠæˆ– Windows è¨­å®šè¡çªæ‰€è‡´ã€‚æœ¬æ–‡å°‡æä¾›å¿«é€Ÿè§£æ±ºæ­¤å•é¡Œçš„æ­¥é©Ÿã€‚\nè§£æ±ºæ–¹æ³• 1. ç¢ºèª WSL å·²æ­£ç¢ºå®‰è£ é–‹å•Ÿ PowerShellï¼ˆä»¥ç³»çµ±ç®¡ç†å“¡èº«åˆ†åŸ·è¡Œï¼‰ï¼Œè¼¸å…¥ä»¥ä¸‹å‘½ä»¤ä»¥å•Ÿç”¨ WSL å’Œè™›æ“¬æ©Ÿå¹³å°åŠŸèƒ½ï¼š\n1 2 dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart å®Œæˆå¾Œé‡å•Ÿé›»è…¦ã€‚\n2. æ›´æ–° Windows ç³»çµ± å‰å¾€è¨­å®š \u0026gt; æ›´æ–°èˆ‡å®‰å…¨æ€§ \u0026gt; Windows Updateï¼Œæª¢æŸ¥ä¸¦å®‰è£æœ€æ–°æ›´æ–°ï¼Œä¸¦é‡å•Ÿé›»è…¦ã€‚\n3. ç¢ºèªä¸‹è¼‰æœ€æ–°ç‰ˆæœ¬çš„ WSL è‹¥ä½¿ç”¨ WSL2ï¼Œè«‹å‰å¾€ Microsoft WSL æ ¸å¿ƒæ›´æ–°é é¢ ä¸‹è¼‰ä¸¦å®‰è£æœ€æ–°ç‰ˆæœ¬ï¼Œç„¶å¾Œé‡é–‹æ©Ÿã€‚\n4. é‡ç½®æˆ–è¨»éŠ·å•é¡Œçš„ Linux ç™¼è¡Œç‰ˆæœ¬ åœ¨ PowerShell ä¸­åˆ—å‡ºå·²å®‰è£çš„ç™¼è¡Œç‰ˆæœ¬ï¼š\n1 wsl --list --verbose è¨»éŠ·å•é¡Œçš„ç™¼è¡Œç‰ˆæœ¬:\n1 2 3 4 wsl --unregister \u0026lt;wsl-nam\u0026gt; # å‡è¨­ç‚º Ubuntu # example: wsl --unregister Ubuntu 5. é‡æ–°å®‰è£ WSL 1 2 wsl --uninstall wsl --install 6. æª¢æŸ¥ç³»çµ±æª”æ¡ˆ é–‹å•Ÿ Powershell\n1 sfc /scannow ä½¿ç”¨ DISM å·¥å…·ä¿®å¾© Windows æ˜ åƒ\n1 DISM /Online /Cleanup-Image /RestoreHealth 7. ç¢ºèª Hyper-V å’Œè™›æ“¬åŒ–åŠŸèƒ½å·²å•Ÿç”¨ åœ¨ PowerShell å•Ÿç”¨ Hyper-V åŠŸèƒ½ï¼š\n1 dism.exe /online /enable-feature /featurename:Microsoft-Hyper-V-All /all /norestart é‡æ–°é–‹æ©Ÿä¸¦é€²å…¥ BIOS/UEFI è¨­å®šï¼Œç¢ºèªå·²å•Ÿç”¨è™›æ“¬åŒ–åŠŸèƒ½ã€‚\n8. æª¢æŸ¥æœ‰ç„¡è¡çªè»Ÿé«” æ›´æ–°æˆ–ç§»é™¤ VMware æˆ– VirtualBox ç­‰è™›æ“¬åŒ–è»Ÿé«”ï¼Œé€™äº›è»Ÿé«”å¯èƒ½èˆ‡ WSL2 ç™¼ç”Ÿè¡çªã€‚\nç¸½çµ ç•¶é‡åˆ° WSL éŒ¯èª¤ 0x8004032dï¼Œå¯ä»¥é€éä»¥ä¸Šæ­¥é©Ÿè§£æ±ºã€‚\nåƒè€ƒé€£çµ How to Fix the WslRegisterDistribution Error: 0x8004032d in Windows\n","date":"2024-10-15T00:00:00+08:00","image":"https://www.chihyu.me/images/windows/wsl2-banner.png","permalink":"https://www.chihyu.me/2024/10/windows-wsl2-install-error-0x8004032d/","title":"WSL2 å®‰è£éŒ¯èª¤ 0x8004032d å•é¡Œè§£æ±º"},{"content":"å‰è¨€ - é–‹ç™¼ç’°å¢ƒé¸æ“‡ Windows é–‹ç™¼ éå»çš„æˆ‘ï¼Œä½¿ç”¨ windows é–‹ç™¼ç¨‹å¼ï¼Œç™¼ç¾æœƒé‡åˆ°å¾ˆå¤šé›·ï¼Œä¸€ä¸‹çµ„ä»¶ç¼ºå°‘ã€ä¸€ä¸‹æ›´æ–°å¾Œå°±ç‹€æ³ä¸€å †ï¼Œå†åŠ ä¸Šç•¶æ™‚è¦ä½¿ç”¨ docker æ‰¾ä¸åˆ°æ–¹æ³•ä½¿ç”¨ã€‚\næ–¼æ˜¯å¾Œä¾†ï¼Œæˆ‘åœ¨ä¸€å°é›»è…¦å®‰è£é›™ç³»çµ±ï¼Œ é–‹æ©Ÿé¸é …å¢åŠ  Linux ï¼Œè§£æ±ºäº†æˆ‘ä¸å°‘é–‹ç™¼ä¸Šçš„å•é¡Œé›·ï¼Œä¹Ÿèƒ½é †åˆ©ä½¿ç”¨ dockerã€‚\né›™ç³»çµ±é–‹ç™¼ é›™ç³»çµ±ï¼ŒLinux é–‹ç™¼å¾ˆå¥½ç”¨ï¼Œä¸éè»Ÿé«”æˆ‘è¦ºå¾—é‚„æ˜¯ã€€Windows å¼·å¾ˆå¤šã€‚\nèˆ‰å¹¾å€‹ Linux è»Ÿé«”é›£ç”¨/æˆ‘ä¸ç¿’æ…£çš„åœ°æ–¹:\nLINE: æ²’æœ‰ Linux ç‰ˆæœ¬ï¼Œæˆ‘åªèƒ½ä½¿ç”¨ chrome æ’ä»¶ï¼Œå¾ˆå¤šåŠŸèƒ½éƒ½æ²’æœ‰ã€‚ ex: æ²’è¾¦æ³•å›è¦†ã€æ²’è¾¦æ³•æ”¶å› ç­‰ç­‰ .. (ä¸éå¾Œä¾†å¥½åƒæ›´æ–°äº†) è¼¸å…¥æ³•: è¼¸å…¥æ³•å¾ˆå¤šè©æ˜¯æ²’æœ‰é€£è²«çš„ï¼Œé€™å°è‡´å¾ˆå¤šå­—éƒ½è¦è‡ªå·±é¸ï¼Œè®“æ‰“å­—è®Šå¾—å¾ˆæ…¢å¾ˆä¸é † office: å¾å°ç”¨åˆ°å¤§çš„ office å¯¦åœ¨æ˜¯å¤ªå¥½ç”¨äº†ï¼Œlinux åªèƒ½å®‰è£ libreofficeï¼Œé›–ç„¶å·¥ç¨‹å¸«æ²’ä»€éº¼æ–‡ä»¶ï¼Œä¸éç•¶æ™‚ä¸Šç­ï¼Œè·¨éƒ¨é–€å¸¸å¸¸éœ€è¦æ–‡ä»¶æºé€šï¼Œæ¯æ¬¡é–‹èµ·ä¾†å°±æœƒå…ˆè·‘ç‰ˆä¸€æ¬¡ã€‚ ç¨®ç¨®å•é¡Œè®“æˆ‘è¦ä½¿ç”¨è»Ÿé«”çš„æ™‚å€™ï¼Œä¹¾è„†ç›´æ¥é‡é–‹æ©Ÿï¼Œé¸æ“‡ window è™•ç†è¡Œæ”¿äº‹å‹™ï¼Œå†å›å» Linux é€²è¡Œé–‹ç™¼ã€‚ ä½†æ˜¯é€™æ¨£ååè¦†è¦†ï¼Œä¹Ÿæ˜¯éå¸¸çš„éº»ç…©\u0026hellip;\nç™¼ç¾ WSL å¾Œä¾†æˆ‘ç™¼ç¾ Windows ç™¼å¸ƒäº† WSL 2 (é©ç”¨æ–¼Linuxçš„Windowså­ç³»çµ±)ï¼Œå®‰è£ä¸Šéå¸¸å®¹æ˜“ï¼ŒåŒæ™‚ä¹Ÿè®“æˆ‘è§£æ±ºç³»çµ±åˆ‡æ›çš„å•é¡Œã€‚\nå®‰è£ WSL å®‰è£åªéœ€å…©æ­¥é©Ÿï¼Œ åŸ·è¡ŒæŒ‡ä»¤ \u0026amp; é‡é–‹æ©Ÿ\nPowerShell åŸ·è¡ŒæŒ‡ä»¤ ç³»çµ±ç®¡ç†å“¡æ¨¡å¼ä¸­é–‹å•Ÿ PowerShell æˆ– Windows å‘½ä»¤æç¤ºå­—å…ƒ\n1 wsl --install é‡æ–°é–‹æ©Ÿ å®‰è£å¥½å¾Œé‡æ–°é–‹æ©Ÿï¼Œä½ å°±æœƒåœ¨è³‡æ–™å¤¾å´æ¬„ç™¼ç¾ Linux \u0026gt; Ubuntu ï¼Œè€Œè£¡é¢çš„è³‡æ–™å¤¾ï¼Œå°±è·Ÿå¹³å¸¸åœ¨ä½¿ç”¨ Ubuntu çš„è³‡æ–™å¤¾ç›¸åŒï¼Œ\né¸æ“‡çµ‚ç«¯æ©Ÿ (Terminal) [éå¿…è¦] æˆ‘æ˜¯ä½¿ç”¨é€™å¥—: Windows Terminal\næˆ‘è¦ºå¾—å¥½ç”¨è€Œä¸”ç¾è§€ã€‚\nçµèª å¦‚æ­¤ä¸€ä¾†ï¼Œè»Ÿé«”çš„ä½¿ç”¨å¯ä»¥ä¸€æ¨£ä¾è³´ Windowsï¼Œç¨‹å¼é–‹ç™¼çš„éƒ¨åˆ†å¯ä»¥ä¾è³´ linux ubuntuã€‚\nè€Œä¸”é€™å€‹ Linux å­ç³»çµ±å®Œå…¨ä¸é™æ–¼ä¸€å°ï¼Œæˆ‘å¯ä»¥ä¸€å° Windows å¤šå€‹ linux ä¹Ÿæ˜¯OKçš„ï¼Œ åƒæˆ‘å°±æœƒåˆ†æˆ\né–‹ç™¼å…¬å¸è»Ÿé«” (ä¸»è¦æ©Ÿ) é–‹ç™¼å…¬å¸è»Ÿé«” (å‚™ç”¨æ©Ÿ) ç§äººä½¿ç”¨çš„ Ubuntu åŸºæœ¬æ¬¾çš„ (é™¤åŸOSï¼Œæœƒå®‰è£ä¸€äº›æˆ‘å¸¸ç”¨çš„è»Ÿé«”ã€å·¥å…·)ï¼Œå¾ŒçºŒè‹¥è¦è¤‡è£½å‡ºä¾†ï¼Œæˆ–æ˜¯æœ‰å“ªä¸€å°å£æ‰äº†ï¼Œå¯ä»¥å¾é€™é‚Šè¤‡è£½å‡ºå» ä¸‹ä¸€ç¯‡ï¼Œæˆ‘å€‘ä¾†èªªæ˜å¦‚ä½•è¤‡è£½å¤šå° Linuxï¼Œè®“ä¸€å°é›»è…¦å¤šå€‹ Linux\nå»¶ä¼¸é–±è®€: è®“ Windows ç›´æ¥ä½¿ç”¨ Linux (äºŒ) - WSL2 è¤‡è£½è¡“ åƒè€ƒé€£çµ https://learn.microsoft.com/zh-tw/windows/wsl/install\n","date":"2024-10-01T00:00:00+08:00","image":"https://www.chihyu.me/images/windows/wsl2-banner.png","permalink":"https://www.chihyu.me/2024/10/windows-wsl2-introduction/","title":"è®“ Windows ç›´æ¥ä½¿ç”¨ Linux (ä¸€) - WSL2 å®‰è£"},{"content":"å‰è¨€ ç•¶æˆ‘å€‘å°‡ windows çš„æª”æ¡ˆç›´æ¥è¤‡è£½åˆ° wsl è£¡é¢æ™‚ï¼Œæœƒå‡ºç¾å¥½å¤š Zone.Identifier çš„æª”æ¡ˆ\nè§£æ±ºæ–¹æ³• ç§»å‹•åˆ°å°æ‡‰çš„è³‡æ–™å¤¾ï¼Œä¸¦ä¸”åŸ·è¡Œï¼Œæ‰¹æ¬¡åˆªé™¤:\n1 find . -name \u0026#34;*:Zone.Identifier\u0026#34; -type f -delete åŸå›  è©³ç´°åŸå› ç›´æ¥åƒè€ƒé€£çµï¼Œæ„Ÿè¬!\nåƒè€ƒé€£çµ https://www.sulinehk.com/post/reasons-and-solutions-for-the-zoneidentifier-file-appearing-in-wsl/\n","date":"2024-09-25T00:00:00+08:00","image":"https://www.chihyu.me/images/windows/wsl2-banner.png","permalink":"https://www.chihyu.me/2024/09/windows-wsl2-export-and-import/","title":"Windows WSL2 ç§»é™¤ Zone.Identifier æª”æ¡ˆ"},{"content":"å‰è¨€ åœ¨ä½¿ç”¨ Git é€²è¡Œç‰ˆæœ¬æ§åˆ¶æ™‚ï¼Œéš¨è‘—æ™‚é–“çš„æ¨ç§»ï¼Œæˆ‘å€‘çš„æœ¬åœ°å€‰åº«ä¸­å¯èƒ½æœƒç©ç´¯è¨±å¤šä¸å†ä½¿ç”¨çš„åˆ†æ”¯ã€‚\nç‰¹åˆ¥æ˜¯ç•¶é ç«¯å€‰åº«ä¸­çš„åˆ†æ”¯å·²è¢«åˆªé™¤æ™‚ï¼Œé€™äº›ç„¡ç”¨çš„æœ¬åœ°åˆ†æ”¯æœƒè®Šå¾—æ›´åŠ é›œäº‚ç„¡ç« ã€‚\nç‚ºäº†ä¿æŒå€‰åº«æ•´æ½”ï¼Œæˆ‘å€‘å¯ä»¥åŸºæ–¼é ç«¯å·²åˆªé™¤çš„åˆ†æ”¯ï¼Œä¾†è‡ªå‹•åˆªé™¤æœ¬åœ°å°æ‡‰çš„åˆ†æ”¯ã€‚ä»¥ä¸‹æ˜¯å…·é«”çš„æ“ä½œæ­¥é©Ÿã€‚\nä½¿ç”¨æ–¹æ³• ç²å–é ç«¯åˆ†æ”¯ä¿¡æ¯ ç¢ºä¿ä½ çš„æœ¬åœ°å€‰åº«æ˜¯æœ€æ–°çš„ï¼Œä¸¦å¾é ç«¯ç²å–æ‰€æœ‰åˆ†æ”¯çš„ä¿¡æ¯ï¼š\n1 git fetch --prune --prune åƒæ•¸æœƒåˆªé™¤æœ¬åœ°è·Ÿè¹¤çš„é‚£äº›å·²ç¶“åœ¨é ç«¯è¢«åˆªé™¤çš„åˆ†æ”¯ã€‚\nåˆªé™¤æœ¬åœ°ä¸å­˜åœ¨æ–¼é ç«¯çš„åˆ†æ”¯ æ¥è‘—ï¼Œä½ å¯ä»¥åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯ï¼Œä¸¦åˆªé™¤é‚£äº›åœ¨é ç«¯ä¸å­˜åœ¨çš„åˆ†æ”¯ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n1 git branch -vv | grep \u0026#39;: gone]\u0026#39; | awk \u0026#39;{print $1}\u0026#39; | xargs -r git branch -d git branch -vvï¼šåˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯ï¼Œä¸¦é¡¯ç¤ºå®ƒå€‘æ˜¯å¦è·Ÿè¹¤é ç«¯åˆ†æ”¯ã€‚\ngrep ': gone]'ï¼šç¯©é¸å‡ºé‚£äº›é ç«¯åˆ†æ”¯å·²è¢«åˆªé™¤çš„æœ¬åœ°åˆ†æ”¯ï¼ˆé¡¯ç¤ºç‚º goneï¼‰ã€‚\nawk '{print $1}'ï¼šç²å–é€™äº›åˆ†æ”¯çš„åç¨±ã€‚\nxargs -r git branch -dï¼šåˆªé™¤é€™äº›åˆ†æ”¯ï¼ˆ-d è¡¨ç¤ºåˆªé™¤åˆ†æ”¯ï¼Œå¦‚æœç¢ºå®šå¯ä»¥ä½¿ç”¨ -D å¼·åˆ¶åˆªé™¤ï¼‰ã€‚\næ‰‹å‹•åˆªé™¤ å¦‚æœä½ æœ‰å…·é«”çš„åˆ†æ”¯åç¨±ï¼Œä¸”ä½ ç¢ºå®šå®ƒåœ¨é ç«¯å·²ç¶“ä¸å­˜åœ¨ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åˆªé™¤è©²åˆ†æ”¯ï¼š\n1 git branch -d \u0026lt;branch-name\u0026gt; -d ç‚ºåˆªé™¤ï¼Œ è‹¥ -D ç‚ºå¼·åˆ¶åˆªé™¤\nçµè«– é€éé€™äº›æ­¥é©Ÿï¼Œä½ å¯ä»¥æœ‰æ•ˆåœ°æ¸…ç†é‚£äº›å·²ç¶“åœ¨é ç«¯è¢«åˆªé™¤çš„æœ¬åœ°åˆ†æ”¯ï¼Œä¿æŒåˆ†æ”¯çš„ä¹¾æ·¨ã€‚\n","date":"2024-08-28T00:00:00+08:00","image":"https://www.chihyu.me/images/git-cli/banner.jpg","permalink":"https://www.chihyu.me/2024/08/git-cli-branch-delete-fetch-origin/","title":"åˆªé™¤ä¸å­˜åœ¨é ç«¯åˆ†æ”¯çš„æœ¬åœ°åˆ†æ”¯"},{"content":"å‰è¨€ åœ¨é–‹å§‹ä¸€å€‹åŠŸèƒ½æ™‚ï¼Œå¯èƒ½æœƒåœ¨ä¸»ç·š(master) é–‹å‡ºæ–°çš„åˆ†æ”¯(feature-x) å‡ºå»é€²è¡Œï¼Œ\næˆ‘å€‘åœ¨æ”¯ç·š(feature-x) å¯èƒ½ commit äº†å¥½å¤šæ¬¡ï¼Œ\nä½†æ˜¯å¸Œæœ›æœ‰ä¸€å¤©ä½µå›å»ä¸»ç·š(master)çš„æ™‚å€™å¯ä»¥åªç•™ä¸‹ä¸€å€‹ä¸»è¦åŠŸèƒ½çš„ commitï¼Œ\né¿å…åˆ†æ”¯çœ‹èµ·ä¾†éå¸¸é›œäº‚\nèªæ³•ä½¿ç”¨ 1 rebase -i \u0026lt;commit-id\u0026gt; commit-id æ”¾ä½ è¦è¦æ”¹å¯«çš„å‰ä¸€å€‹é»\nç›´æ¥ä¸Šå¯¦ä¾‹å¯èƒ½æœƒæ¯”è¼ƒäº†è§£ å¦‚åœ–å¯ä»¥çœ‹åˆ°é€™æ˜¯æˆ‘å€‘ç›®å‰åˆ†æ”¯ç‹€æ³\n(åœ–ç‰‡çš„åˆ†æ”¯èˆ‡å¹³å¸¸ä½¿ç”¨çš„æ–¹å‘ç›¸åï¼Œæ„ˆä¸‹é¢æ„ˆæ–°)\næˆ‘å€‘å¾ C2 åˆ‡äº†ä¸€å€‹æ–°åˆ†æ”¯å‡ºä¾† feature-xï¼Œ æˆ‘è¦æŠŠ C3,C4,C5 åˆä½µå›å» master\nä½†æ˜¯æˆ‘å¸Œæœ›åˆä½µå›å»æ™‚åªæœ‰ä¸€å€‹ commitï¼Œ\næˆ‘éœ€è¦åœ¨feature-x åˆ†æ”¯ä¸‹\nstep 1ï¼šä¸‹æŒ‡ä»¤ æˆ‘è¦ä¿®æ”¹ä»–å€‘ï¼ 1 2 git checkout feature-x git rebase -i C2 â­ é€™é‚Šå¾ˆé‡è¦ ï¼ æˆ‘å€‘éœ€è¦å–ç”¨å°‡ä»–å€‘åˆèµ·ä¾†çš„å‰ä¸€å€‹é» C2 ç•¶èµ·é»\nstep 2ï¼š è¦æ€éº¼ä¿®æ”¹ä»–å€‘å‘¢ åŸ·è¡Œå®Œå¾Œï¼Œæœƒå‡ºç¾ä¸€å€‹ç·¨è¼¯ä»‹é¢ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 pick C3 feature - commit message aaaaaaa pick C4 fix-abc pick C5 fix-def # Rebase C2..C5 onto C2 # # Commands: # p, pick = use commit # r, reword = use commit, but edit the commit message # e, edit = use commit, but stop for amending # s, squash = use commit, but meld into previous commit # f, fixup = like \u0026#34;squash\u0026#34;, but discard this commit\u0026#39;s log message # x, exec = run command (the rest of the line) using shell # # These lines can be re-ordered; they are executed from top to bottom. # # If you remove a line here THAT COMMIT WILL BE LOST. # # However, if you remove everything, the rebase will be aborted. # # Note that empty commits are commented out ä¸Šé¢ pick æ˜¯ä½ ç›®å‰ commit å€é–“ C3,C4,C5\né€™é‚Š commit é †åºèˆ‡æˆ‘å€‘å¹³å¸¸çœ‹çš„ç›¸å\npick: å°±æ˜¯æœƒä¿ç•™é€™å€‹ commit fixup: å°±æ˜¯æœƒæ‹¿æ‰é€™å€‹ commit é€™å…©å€‹æœ€å¸¸ç”¨ï¼Œå› ç‚ºå…¶ä»–æˆ‘ä¹Ÿæ²’æœ‰ä½¿ç”¨é ğŸ¤£ğŸ¤£ğŸ¤£\nå› ç‚ºæˆ‘å€‘åªè¦ä¿ç•™ä¸€å€‹ C3\næ‰€ä»¥æˆ‘å€‘å°‡ C4,C5 çš„å‰é¢ pick æ”¹æˆ f\n1 2 3 pick C3 feature - commit message aaaaaaa f C4 fix-abc f C5 fix-def ç„¶å¾Œ\nå„²å­˜ ï¼\nstep3: å®Œæˆäº† å®Œæˆå¾Œï¼Œåˆ†æ”¯å°±æœƒé•·é€™æ¨£\nå¦‚æ­¤ä¸€ä¾†å°‡ feature-x åˆä½µå›å» master æ™‚ï¼Œå°±æœƒåªçœ‹åˆ°ä¸€å€‹ commit\nstep4: åˆä½µå›å» master 1 2 git checkout master git merge feature-x --no-ff ","date":"2023-03-21T00:00:00+08:00","image":"https://www.chihyu.me/images/git-cli/banner.jpg","permalink":"https://www.chihyu.me/2023/03/git-cli-rebase-interactive/","title":"åˆ©ç”¨ git rebase -i æ”¹å¯«æ­·å²ï¼Œçµ¦æˆ‘ä¸€å€‹æ•´é½Šçš„åˆ†æ”¯ç·šï¼"},{"content":"ä¸»è¦ é™¤éŒ¯æ™‚å¸¸éœ€è¦æ‰“é–‹éŒ¯èª¤è¨Šæ¯ï¼Œä»¥ä¸‹æä¾›ä¾¿æ·çš„æ–¹å¼\nåœ¨phpæª”æ¡ˆä¸­ å¯ä»¥åœ¨ PHP æª”æ¡ˆæœ€ä¸Šæ–¹åŠ å…¥é€™ä¸‰è¡Œç¨‹å¼ç¢¼\n1 2 3 ini_set(\u0026#39;display_errors\u0026#39;, 1); ini_set(\u0026#39;display_startup_errors\u0026#39;, 1); error_reporting(E_ALL); åœ¨ php.ini è¨­å®š æ‰“é–‹ php.ini çš„æª”æ¡ˆï¼Œä¸¦æ–¼è¨­å®šå¾Œé‡å•Ÿæœå‹™\n1 display_errors = on å„ç³»çµ±çš„ php.ini æª”æ¡ˆä½ç½®ä¸åŒ\n","date":"2023-03-20T00:00:00+08:00","image":"https://www.chihyu.me/images/php/banner.jpg","permalink":"https://www.chihyu.me/2023/03/php-display-errors/","title":"PHP é¡¯ç¤ºéŒ¯èª¤è¨Šæ¯"},{"content":"å‰è¨€ èªªåˆ° Laravel åŒ¯å‡º excel ç›¸ä¿¡å¤§å®¶è‚¯å®šå°é€™å¥—ä»¶ä¸é™Œç”Ÿ\nå¥—ä»¶é€£çµ\nä¸éæ–‡ä»¶å…§æ²’æœ‰æåˆ°å¦‚ä½•é€é api çš„æ–¹å¼ä¸‹è¼‰æª”æ¡ˆï¼Œ\næˆ‘è‡ªå·±ä¹Ÿæ‘¸ç´¢å¥½ä¹…ï¼Œçµ‚æ–¼æ‰¾åˆ°æ–¹æ³•äº†\næƒ³èªªä¾†è·Ÿå¤§å®¶åˆ†äº«ä¸€ä¸‹\nä¸»è¦ ç’°å¢ƒä»‹ç´¹ maatwebsite/excel ç‰ˆæœ¬ 3.1 å‰ç«¯ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 \u0026lt;script src=\u0026#34;https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; // æª”æ¡ˆåç¨± let fileName = \u0026#39;xxx.xlsx\u0026#39;; // api è·¯å¾‘ let url = \u0026#39;\u0026#39;; // è³‡æ–™ let data = {}; axios.post(url, data, { responseType: \u0026#39;arraybuffer\u0026#39;, headers: { \u0026#39;Content-Type\u0026#39;: \u0026#39;application/json\u0026#39;, } }).then((response) =\u0026gt; { const url = window.URL.createObjectURL(new Blob([response.data], { // xlsx type: \u0026#39;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\u0026#39;, // xls // type: \u0026#39;application/vnd.ms-excel\u0026#39; })); const link = document.createElement(\u0026#39;a\u0026#39;); link.href = url; link.setAttribute(\u0026#39;download\u0026#39;, fileName); document.body.appendChild(link); link.click(); }) .catch((error) =\u0026gt; { console.log(error); }); \u0026lt;/script\u0026gt; æª”æ¡ˆé¡åˆ¥å¯ä»¥åƒè€ƒï¼š MIME Types\nAPI çš„ controller 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 use Illuminate\\Http\\Request; use App\\Exports\\OrderExport; use Maatwebsite\\Excel\\Facades\\Excel; class OrderExportController extends Controller { /** * åŒ¯å‡º */ public function export(Request $request) { // ... return Excel::download(new OrderExport($orders), \u0026#39;è¨‚å–®.xlsx\u0026#39;); } } é€™é‚Šå°±ä¸ç‰¹åˆ¥è§£é‡‹ Excel::download çš„ä½¿ç”¨æ–¹æ³•äº†\nä¹‹å¾Œå†è·Ÿå¤§å®¶åˆ†äº«\n","date":"2022-12-23T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel-magic/banner.png","permalink":"https://www.chihyu.me/2022/12/laravel-magic-use-axios-export-excel/","title":"Laravel ä½¿ç”¨ axios åŒ¯å‡º Excel"},{"content":"å‰è¨€ LINE å•†å®¶ä¹Ÿå¯ä»¥è¨­å®šé€šè©±åŠŸèƒ½\nè¨­å®šä¹‹å‰è«‹å…ˆé–±è®€\nè¨»å†Šå•†å®¶ å®‰è£æ‰‹æ©ŸAPP é–‹å•Ÿè¨­å®š æ‰‹æ©Ÿè¨­å®š å¾èŠå¤©ç•«é¢é–‹å•ŸèŠå¤©è¨­å®šã€‚ åœ¨èŠå¤©è¨­å®šä¸­é»é¸é›»è©±çš„é …ç›®ã€‚ åœ¨é›»è©±çš„è¨­å®šç•«é¢ä¸­å•Ÿç”¨ã€ŒLINEé€šè©±ã€å¾Œï¼Œå³å¯ä½¿ç”¨é›»è©±ã€‚ä¹Ÿå¯è¦–éœ€è¦å•Ÿç”¨è¦–è¨Šé€šè©±ã€‚ å•Ÿç”¨ã€ŒLINE é€šè©±ã€å¾Œï¼Œåœ¨é›»è©±è¨­å®šçš„é é¢æœ€ä¸‹æ–¹æ‰¾åˆ°å®£å‚³LINE Callçš„ç¶²å€èˆ‡è¡Œå‹•æ¢ç¢¼ã€‚ é›»è…¦è¨­å®š é–‹å•ŸèŠå¤©é ç±¤ã€‚ å¾å³å´é¸å–®é–‹å•Ÿè¨­å®š(a)ï¼Œå‰å¾€é›»è©±é ç±¤(b)ã€‚ åœ¨åŸºæœ¬è¨­å®šçš„èªéŸ³é€šè©±ä¸­é¸æ“‡ã€ŒLINEé€šè©±ã€å¾Œï¼Œå³å¯ä½¿ç”¨LINE CallåŠŸèƒ½ã€‚ä¹Ÿå¯è¦–éœ€è¦å•Ÿç”¨è¦–è¨Šé€šè©±ã€‚ é–‹å•Ÿã€ŒLINEé€šè©±ã€å¾Œï¼Œå³å¯ä»¥æ–¼é›»è©±é ç±¤çš„æœ€ä¸‹æ–¹æ‰¾åˆ°å®£å‚³LINE Callçš„ç¶²å€èˆ‡è¡Œå‹•æ¢ç¢¼ã€‚ é‚€è«‹é€šè©± æ‰‹æ©Ÿ ä½¿ç”¨èŠå¤©å®¤ç•«é¢å·¦ä¸‹æ–¹çš„ï¼‹æŒ‰éˆ•é¡¯ç¤ºé¸å–®ã€‚ é»é¸é€šè©±è¦æ±‚ã€‚ è«‹ç¢ºèªå½ˆå‡ºçš„å…§å®¹å¾Œï¼Œé»é¸ç™¼é€éˆ•ã€‚ ç™¼é€é€šè©±è¦æ±‚çš„æ­¥é©Ÿåˆ°æ­¤å®Œæˆã€‚ ç”¨æˆ¶é»é¸é€šè©±è¦æ±‚çš„æ’¥æ‰“é›»è©±éˆ•å¾Œï¼Œå³å¯æ’¥æ‰“é›»è©±çµ¦LINEå®˜æ–¹å¸³è™Ÿã€‚ é›»è…¦ ä½¿ç”¨èŠå¤©å®¤ç•«é¢å³ä¸‹æ–¹çš„é›»è©±åœ–ç¤ºé¸æ“‡é€šè©±è¦æ±‚ã€‚ è«‹ç¢ºèªå½ˆå‡ºçš„å…§å®¹å¾Œï¼Œé»é¸ç™¼é€éˆ•ã€‚ ç™¼é€é€šè©±è¦æ±‚çš„æ­¥é©Ÿåˆ°æ­¤å®Œæˆã€‚ ç”¨æˆ¶é»é¸é€šè©±è¦æ±‚çš„æ’¥æ‰“é›»è©±éˆ•å¾Œï¼Œå³å¯æ’¥æ‰“é›»è©±çµ¦LINEå®˜æ–¹å¸³è™Ÿã€‚ å…¶ä»– è¨­å®šç”¨æˆ¶ä¾†é›»é€šçŸ¥ æ–‡ç« ä¾†æºï¼š https://tw.linebiz.com/manual/line-official-account/oa-call/\n","date":"2022-12-19T02:00:00+08:00","image":"https://www.chihyu.me/images/line/banner.jpeg","permalink":"https://www.chihyu.me/2022/12/line-biz-business-set-call/","title":"LINE@ è¨­å®šå¯é€šè©±/è¦–è¨Š"},{"content":"ä¸»è¦ å®‰å“ç”¨æˆ¶ å®‰è£é€£çµ\nè˜‹æœç”¨æˆ¶ å®‰è£é€£çµ\n","date":"2022-12-19T01:00:00+08:00","image":"https://www.chihyu.me/images/line/banner.jpeg","permalink":"https://www.chihyu.me/2022/12/line-biz-business-install-app/","title":"LINE@ å•†å®¶å®‰è£æ‰‹æ©Ÿ APP"},{"content":"ä¸»è¦ ä»Šå¤©è·Ÿå¤§å®¶åˆ†äº«è¨»å†Š LINEå•†å®¶è¨»å†Š\nè³‡æº é»é¸ï¼š è¨»å†Šç¶²å€\né»æ“Š ã€ä½¿ç”¨é›»å­éƒµä»¶å¸³è™Ÿè¨»å†Šã€ æˆ‘æ˜¯é¸æ“‡é€éä¿¡ç®±è¨»å†Šçš„\nå¡«å¯«ä¿¡ç®±åŠé»æ“Šã€å‚³é€è¨»å†Šç”¨é€£çµã€ æ­¤æ™‚åˆ°ä½ çš„ä¿¡ç®±å°±æœƒæ”¶åˆ° LINE çš„ é€šçŸ¥ä¿¡\nåˆ°ä¿¡ç®±æ”¶ä¿¡ é»æ“Š ã€å‰å¾€è¨»å†Šé é¢ã€\nå¡«å¯«å•†å®¶åŸºæœ¬è³‡è¨Š é»é¸è¨»å†Šä¿¡ä»¶çš„é€£çµå¾Œï¼Œå°±æ˜¯è¨­å®šå•†å®¶çš„è³‡è¨Šäº†\nä¾ç…§ä½ çš„å•†å®¶å¡«å¯«å³å¯\nçµè«– é€™æ¨£å°±å®Œæˆäº†ï¼Œç°¡å–®åˆå¿«é€Ÿ\n","date":"2022-12-19T00:00:00+08:00","image":"https://www.chihyu.me/images/line/banner.jpeg","permalink":"https://www.chihyu.me/2022/12/line-biz-create-business-id/","title":"LINE@ è¨»å†Šå•†å®¶"},{"content":"å‰è¨€ ä¸æ›‰å¾—å¤§å®¶æœ‰æ²’æœ‰åƒæˆ‘æœ‰ä¸€æ¨£çš„å›°æ“¾\næˆ‘å¹³å¸¸é–‹æ–¹éƒ½æ˜¯ä½¿ç”¨ ubuntu\nä¸éæˆ‘æ»‘é¼ åœ¨æ»¾å‹•çš„æ™‚å€™ï¼Œæœ‰æ™‚å€™åªè¦æŒ‰åˆ°å°±æœƒç›´æ¥è²¼ä¸Šæˆ‘å‰›å‰›é¸å–çš„å…§å®¹\nå¯èƒ½æœ‰äº›äººæœƒè¦ºå¾—ä¾¿åˆ©ï¼Œ ä½†æˆ‘è¦ºå¾—å¾ˆå›°æ“¾\nå¯¦åœ¨ç”¨ä¸ç¿’æ…£é€™å€‹æ“ä½œ å“ˆå“ˆå“ˆ\næ–¼æ˜¯æˆ‘å»ç¶²è·¯ä¸Šæ‰¾äº†è§£æ³•\nç…§è‘—åšå°±èƒ½ç”¨\nä¾†æº: è³‡æº\næ“ä½œèªªæ˜ å®‰è£å¥—ä»¶ 1 sudo apt-get install xbindkeys xsel xdotool æ–°å¢ .xbindkeysrc æª” åœ¨ ~/ è·¯å¾‘åº•ä¸‹æ–°å¢æª”æ¡ˆ .xbindkeysrc\n1 2 cd ~ touch .xbindkeysrc æ–°å¢ xbindkey è¨­å®šæª” æä¾›å…©å€‹æ–¹æ³•å¯ä»¥å¯«å…¥\næ–¹æ³•ä¸€ï¼šåœ¨ Terminal ä¸‹\n1 echo -e \u0026#39;\u0026#34;echo -n | xsel -n -i; pkill xbindkeys; xdotool click 2; xbindkeys\u0026#34; \\n b:2 + Release\u0026#39; \u0026gt; ~/.xbindkeysrc æˆ–è€… ~ æ–¹æ³•äºŒï¼šé–‹å•Ÿæª”æ¡ˆè²¼ä¸Š æª”æ¡ˆ: ~/.xbindkeysrc å¯«å…¥å…§å®¹:\n1 2 \u0026#34;echo -n | xsel -n -i; pkill xbindkeys; xdotool click 2; xbindkeys\u0026#34; b:2 + Release è¨­å®šåŠ è¼‰ xbindkeys åœ¨ Terminal ä¸‹\n1 xbindkeys -p æå®š!\n","date":"2022-12-08T14:00:00+08:00","image":"https://www.chihyu.me/images/linux/banner.jpg","permalink":"https://www.chihyu.me/2022/12/linux-disable-mouse-middle-click-paste/","title":"é—œé–‰ Linux æ»‘é¼ æ»¾è¼ªéµè²¼ä¸Šçš„æ–¹æ³•"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ ä¸Šä¸€ç¯‡: Day 29. åˆ†é  Pagination\nä¸»è¦ å¾ˆå¿«çš„ä¾†åˆ°äº†æœ€å¾Œä¸€å¤©\nå…¶å¯¦é‚„æœ‰å¾ˆå¤šæ±è¥¿å¯ä»¥åˆ†äº« çŸ­çŸ­ä¸‰åå¤©å¾ˆé›£å°‡æˆ‘éå»æ‰€å­¸çš„é …ç›®ä¸€ä¸€åˆ†äº«\nä¹Ÿæ˜¯è¦è¨“ç·´è‡ªå·±å° Laravel çš„ç†Ÿæ‚‰çš„ç¨‹åº¦\næ‰æœƒé–‹é€™å€‹ç³»åˆ—\nLaravel7 å¯èƒ½åœ¨æˆ‘è·æ¶¯ä¹Ÿæœƒæ…¢æ…¢èµ°è·¯æ­·å²äº†å§\nä¹‹å¾Œå¯èƒ½æœƒä½¿ç”¨æ›´æ–°çš„ç‰ˆæœ¬\nç•¶ç„¶ï¼Œè‹¥æœ‰ä¸éŒ¯çš„é …ç›®é‚„æ˜¯æœƒæƒ³è¦æŒçºŒåˆ†äº«\nä¹Ÿç®—æ˜¯ä¸€å€‹äº’ç›¸å­¸ç¿’çš„éç¨‹\nå¸Œæœ›å¤§å®¶å†é–‹ç™¼çš„è·¯ä¸Šéƒ½ä¸€åˆ‡é †åˆ© ~~~~\n","date":"2022-11-30T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day29-pagination/","title":"Day 30. çµæŸ"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 28. Log\nçµæŸ Log ä½¿ç”¨\nä»Šå¤©ç¹¼çºŒä¾†å„ªåŒ–æˆ‘å€‘çš„ ToDo Listå§\nèŠèŠæˆ‘å€‘çš„ Pagination\nä¸»è¦ ä¸Šæ–‡ä»¶ Pagination åˆ†é \né¡§åæ€ç¾©å°±æ˜¯å°‡è³‡æ–™åˆ†é  é¿å…ç•¶ä¸‹é é¢è³‡æ–™é‡éå¤šæœƒå½±éŸ¿ä½¿ç”¨è€…é«”é©—\nä½¿ç”¨å…¶ä½¿ä¹Ÿå¾ˆè¼•é¬†ç°¡å–®\nå¦‚ä½•ä½¿ç”¨ controller æˆ‘å€‘å°‡åŸæœ¬åˆ—è¡¨è¦ get() æ”¹æˆ paginate()\næª”æ¡ˆ: app/Http/Controllers/TaskController.php\n1 2 3 4 5 6 public function index() { $tasks = Auth::user()-\u0026gt;tasks()-\u0026gt;paginate(5); return view(\u0026#39;tasks.index\u0026#39;, compact(\u0026#39;tasks\u0026#39;)); } åƒæ•¸æ˜¯ä¸€é è¦å¹¾ç­†\nåªè¦é€™æ¨£ Laravel å°±æœƒå¹«ä½ åšå¥½åˆ†é \nview åŠ ä¸Š\n1 {{ $tasks-\u0026gt;links() }} å®Œæˆï¼\nDemo ç•¶ç„¶ï¼Œå¦‚æœé é¢çš„æ¨£å¼ä½ ä¸å–œæ­¡å¯ä»¥è‡ªå®šç¾©\nä¹‹å¾Œå†è·Ÿå¤§å®¶åˆ†äº«å¦‚ä½•å®¢åˆ¶\nä»Šå¤©å…ˆç°¡å–®èªªæ˜é€™å€‹æ–¹ä¾¿çš„åŠŸèƒ½å°±å¥½\n","date":"2022-11-29T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day29-pagination/","title":"Day 29. åˆ†é  Pagination"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 27. Session\nçµæŸ session\nä»Šå¤©è¦ä¾†èŠèŠ Log\nä¸»è¦ ä¸Šæ–‡ä»¶\né è¨­çš„ Log æ˜¯ä¸€å€‹æª”æ¡ˆ\nä½ å¯ä»¥åœ¨ä½ çš„ç¨‹å¼è£é¢åŸ‹å…¥ä½ è¦å¯«å…¥çš„ Log è€Œé€™äº› Log æœƒè¢«å­˜æ”¾åœ¨ storage/logs è£é¢\nä½ å¯ä»¥åœ¨ .env è¨­å®šä½ çš„ Log é¡åˆ¥\nå®˜æ–¹æœ‰æä¾›å¾ˆå¤šç¨®ï¼Œ\næˆ‘éƒ½æ˜¯ä½¿ç”¨ daily æ¯å¤©æœƒç”¢ç”Ÿä¸€å€‹ä»¥æ—¥æœŸç‚ºä¸»çš„æª”æ¡ˆ\nç´šåˆ¥ 1 2 3 4 5 6 7 8 Log::emergency($message); Log::alert($message); Log::critical($message); Log::error($message); Log::warning($message); Log::notice($message); Log::info($message); Log::debug($message); å¦‚ä½•ä½¿ç”¨ï¼Ÿ env è¨­å®š ä½¿ç”¨ 1 2 3 4 5 6 7 8 9 use Illuminate\\Support\\Facades\\Log; class TaskController extends Controller { public function index() { Log::info(\u0026#39;log test\u0026#39;); // ... } æª¢æŸ¥ å°±æ˜¯é€™æ¨£ç°¡å–®\n","date":"2022-11-28T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day28-log/","title":"Day 28. Log"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 26. Validation-2 Request è®“ Controller æ›´ä¹¾æ·¨\nä»Šå¤©ä¾†è·Ÿå„ä½èŠèŠ session\nä¸»è¦ ä¸Šæ–‡ä»¶\né–‹ç™¼éç¶²ç«™çš„è‚¯å®šéƒ½å° session ä¸é™Œç”Ÿ\nä»Šå¤©å°±ä¸å¤šåŠ ç¶´è¿°ä»–æ˜¯ä»€éº¼\nåªæ˜¯å‰›å¥½é–‹ç™¼ todoåŠŸèƒ½ å‰›å¥½æƒ³åˆ°å¯ä»¥è¬›ä¸€ä¸‹\næˆ‘å€‘å¹³å¸¸é€å‡ºè¡¨å–®çš„æ™‚å€™\néƒ½æœƒå¸Œæœ›ç³»çµ±æœ‰æ‰€å›æ‡‰ å¦‚ã€æ–°å¢æˆåŠŸã€ã€ã€æ–°å¢å¤±æ•—ã€ç­‰ç­‰\u0026hellip;\nflash session flash session å°±æ˜¯åªæœƒä¿ç•™ä¸€æ¬¡çš„çŸ­æš« session è·³è½‰ä¸‹å€‹é é¢å°±ä¸æœƒå­˜åœ¨äº†\n1 session()-\u0026gt;flash(\u0026#39;key\u0026#39;, \u0026#39;value\u0026#39;); é€™æ¨£å°±å¯ä»¥ä½¿ç”¨äº† ~\næ‰€ä»¥æˆ‘å€‘åªéœ€è¦åœ¨ Controller æ›´æ–°å¾Œ åŠ ä¸Š\næª”æ¡ˆ: app/Http/Controllers/TaskController.php\n1 2 3 4 5 6 7 8 9 public function update(TaskRequest $request, Task $task) { $task-\u0026gt;update([ \u0026#39;title\u0026#39; =\u0026gt; $request-\u0026gt;title ]); session()-\u0026gt;flash(\u0026#39;flash-alert-success\u0026#39;, \u0026#39;æ›´æ–°æˆåŠŸ!\u0026#39;); return redirect()-\u0026gt;route(\u0026#39;tasks.index\u0026#39;); } ç„¶å¾Œåœ¨åˆ—è¡¨çš„åœ°æ–¹è®€å–é€™å€‹session\næª”æ¡ˆ: resources/views/tasks/index.blade.php\n1 2 3 4 5 6 7 8 9 @if (session(\u0026#39;flash-alert-success\u0026#39;)) \u0026lt;div class=\u0026#34;alert alert-success\u0026#34; role=\u0026#34;alert\u0026#34;\u0026gt; {{ session(\u0026#39;flash-alert-success\u0026#39;) }} \u0026lt;/div\u0026gt; @elseif (session(\u0026#39;flash-alert-error\u0026#39;)) \u0026lt;div class=\u0026#34;alert alert-danger\u0026#34; role=\u0026#34;alert\u0026#34;\u0026gt; {{ session(\u0026#39;flash-alert-error\u0026#39;) }} \u0026lt;/div\u0026gt; @endif Demo ","date":"2022-11-27T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day27-session/","title":"Day 27. Session"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 25. Validation\nä¸Šç¯‡æˆ‘å€‘èŠäº† é©—è­‰ï¼Œ æ¥è‘—æˆ‘å€‘ä¾†èªªæˆ‘å¹³å¸¸ä½¿ç”¨é©—è­‰çš„æ–¹æ³•ï¼Œ\nä¸»è¦ ä»Šå¤©ç¯„ä¾‹çš„é©—è­‰æ¬„ä½æ¯”è¼ƒå°‘ï¼Œæ‰€ä»¥å¯èƒ½æ¯”è¼ƒæ²’æ„Ÿè¦ºï¼Œ\nå¹³å¸¸é©—è­‰æ¬„ä½åªè¦å¤š controller çš„é é¢å°±æœƒè®Šå¾ˆè‚¥ï¼Œ\næ‰€ä»¥é©—è­‰å¯ä»¥æ¬åˆ°å…¶ä»–ç‰©ä»¶å»åšï¼Œ\nè®“ controller ä¹¾æ·¨ä¸€é»\nè¨­å®š Request æ–‡ä»¶\nåŸ·è¡ŒæŒ‡ä»¤\n1 php artisan make:request TaskRequest é€™æ¨£å°±æœƒåœ¨ app/Http/Requests çœ‹åˆ°ä½ ç”¢ç”Ÿçš„æª”æ¡ˆ TaskRequest.php\nå¯ä»¥æŠŠåŸæœ¬çš„é©—è­‰é …ç›®æ”¾é€²å» rules() çš„ function äº†\næª”æ¡ˆ: app/Http/Requests/TaskRequest.php\nè¦å‰‡è¨­å®š 1 2 3 4 5 6 public function rules() { return [ \u0026#39;title\u0026#39; =\u0026gt; \u0026#39;required\u0026#39; ]; } é–‹é—œ å¦å¤–æˆ‘å€‘å¯ä»¥æŠŠ authorize() è¨­å®šæˆ true\n1 2 3 4 public function authorize() { return true; } è‡ªå®šç¾©éŒ¯èª¤è¨Šæ¯ éŒ¯èª¤è¨Šæ¯å¯ä»¥æ”¾åœ¨ messages()\né€™å€‹ function æ˜¯æ²’æœ‰é è¨­ç”¢ç”Ÿçš„ï¼Œè¦è‡ªå·±åŠ ä¸Šå»\n1 2 3 4 5 6 public function messages() { return [ \u0026#39;title.required\u0026#39; =\u0026gt; \u0026#39;æ¨™é¡Œæ¬„ä½æ˜¯å¿…å¡«çš„\u0026#39; ]; } è¨­å®š controller æŠŠåŸæœ¬ $request æ³¨å…¥ Request æ”¹æˆå‰›å‰›å»ºç«‹çš„ TaskRequest\n1 2 3 4 5 6 7 8 public function store(TaskRequest $request) { Auth::user()-\u0026gt;tasks()-\u0026gt;create([ \u0026#39;title\u0026#39; =\u0026gt; $request-\u0026gt;title ]); return redirect()-\u0026gt;route(\u0026#39;tasks.index\u0026#39;); } é€™æ¨£å°±å¯ä»¥äº†\nDEMO ","date":"2022-11-26T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day26-validation-request/","title":"Day 26. Validation-2 Request è®“ Controller æ›´ä¹¾æ·¨"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 24. å¯¦ä½œ TODO ç·´ç¿’ ä¸‹ç¯‡:ç•«é¢åŠåŠŸèƒ½\nä¸Šç¯‡å¯¦ä½œäº† ToDo çš„ä¸€äº›ç°¡å–®åŠŸèƒ½åŠé é¢ï¼Œ æ¥è‘—æˆ‘å€‘ä¾†èªªã€é©—è­‰ã€\nä¸»è¦ ä¸Šæ–‡ä»¶\nLaravel çš„é©—è­‰çœŸçš„æ»¿æ–¹ä¾¿çš„ï¼Œ\nå¯ä»¥åƒè€ƒè¦å‰‡\né€™äº›è¦å‰‡éƒ½å¯ä»¥è¨­å®šé©—è­‰\né©—è­‰å¤±æ•—çš„æ™‚å€™å°±æœƒå°å›å»å‰é¢é‚£ä¸€é ï¼Œ\né€™æ™‚å€™å°±å¯ä»¥è·Ÿ old() æ­é…ä¿ç•™åŸæœ¬çš„å€¼ï¼Œ\nå¿«é€Ÿä¸Šæ‰‹ å¦‚æˆ‘å€‘ç¯„ä¾‹ TODO åªéœ€è¦é©—è­‰ä¸€å€‹ title ç‚ºå¿…å¡« å¯ä»¥å†è¡¨å–®é€å‡ºçš„é‚£åˆ»åŠ ä¸Šé©—è­‰ï¼Œ\nå¤±æ•—çš„è©±å°±æœƒå°å›å»å‰é¢é‚£é çš„è¡¨å–®ï¼Œ\næª”æ¡ˆ: app/Http/Controllers/TaskController.php\n1 2 3 4 5 6 7 8 9 10 11 12 13 public function store(Request $request) { // åŠ é€™å€‹ !!! Validator::make($request-\u0026gt;all(), [ \u0026#39;title\u0026#39; =\u0026gt; \u0026#39;required\u0026#39; ])-\u0026gt;validate(); Auth::user()-\u0026gt;tasks()-\u0026gt;create([ \u0026#39;title\u0026#39; =\u0026gt; $request-\u0026gt;title ]); return redirect()-\u0026gt;route(\u0026#39;tasks.index\u0026#39;); } è€Œæˆ‘å€‘è¦å¦‚ä½•æ¥æ”¶å€¼å‘¢ï¼Ÿ é©—è­‰å¤±æ•—çš„æ™‚å€™æˆ‘å€‘éƒ½æœƒæ¥æ”¶åˆ°ä¸€å€‹ $errors åƒæ•¸\nå¦‚ä»¥ä¸‹ç¯„ä¾‹\næª”æ¡ˆ: resources/views/tasks/create.blade.php\n1 2 3 4 5 6 7 @if ($errors-\u0026gt;has(\u0026#39;title\u0026#39;)) @foreach ($errors-\u0026gt;get(\u0026#39;title\u0026#39;) as $message) \u0026lt;div style=\u0026#34;color:red;\u0026#34;\u0026gt; {{ $message }} \u0026lt;/div\u0026gt; @endforeach @endif ç¯„ä¾‹ ","date":"2022-11-25T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day25-validation/","title":"Day 25. Validation"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 23. å¯¦ä½œ TODO ç·´ç¿’ ä¸Šç¯‡:å‰ç½®ä½œæ¥­ ä¸Šç¯‡ä¸»è¦å»ºåˆ¶ä¸€äº›å‰ç½®ä½œæ¥­ æ¥ä¸‹ä¾†è¦å¯¦ä½œ ToDo çš„ä¸€äº›ç°¡å–®åŠŸèƒ½åŠé é¢ï¼Œ\nä¸»è¦ controller å¯ä»¥ç›´æ¥åƒè€ƒæˆ‘çš„ TaskController\næª”æ¡ˆ: app/Http/Controllers/TaskController.php\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 class TaskController extends Controller { /** * åˆ—è¡¨é  */ public function index() { $tasks = Auth::user()-\u0026gt;tasks; return view(\u0026#39;tasks.index\u0026#39;, compact(\u0026#39;tasks\u0026#39;)); } /** * æ–°å¢é  */ public function create() { return view(\u0026#39;tasks.create\u0026#39;); } /** * æ–°å¢ */ public function store(Request $request) { Auth::user()-\u0026gt;tasks()-\u0026gt;create([ \u0026#39;title\u0026#39; =\u0026gt; $request-\u0026gt;title ]); return redirect()-\u0026gt;route(\u0026#39;tasks.index\u0026#39;); } /** * æ›´æ–°é  */ public function edit(Task $task) { return view(\u0026#39;tasks.edit\u0026#39;, compact(\u0026#39;task\u0026#39;)); } /** * æ›´æ–° */ public function update(Request $request, Task $task) { $task-\u0026gt;update([ \u0026#39;title\u0026#39; =\u0026gt; $request-\u0026gt;title ]); return redirect()-\u0026gt;route(\u0026#39;tasks.index\u0026#39;); } /** * åˆªé™¤ */ public function destroy(Task $task) { $task-\u0026gt;delete(); return redirect()-\u0026gt;route(\u0026#39;tasks.index\u0026#39;); } } view view çš„é é¢éƒ½åœ¨é€™å€‹è³‡æ–™å¤¾è£é¢ resources/views/tasks/\nåˆ—è¡¨é : resources/views/tasks/index.blade.php æ–°å¢é : resources/views/tasks/create.blade.php æ›´æ–°é : resources/views/tasks/edit.blade.php ","date":"2022-11-24T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day23-todo-main/","title":"Day 24. å¯¦ä½œ TODO ç·´ç¿’ ä¸‹ç¯‡:ç•«é¢åŠåŠŸèƒ½"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 22. CRUD å¾ˆç°¡å–® Resource Controller\næ¥ä¸‹ä¾†æº–å‚™å¯¦ä½œ ToDo çš„åŠŸèƒ½ï¼Œ é€™æ˜¯ä¸Šç¯‡ä¸»è¦å»ºåˆ¶ä¸€äº›å‰ç½®ä½œæ¥­\nä¸»è¦ todo åŠŸèƒ½æˆ‘æœƒä»¥ task(ä»»å‹™) ä½œç‚ºå‘½åï¼Œ\nå› ç‚ºæˆ‘æ„Ÿè¦ºé€™æ¨£æ¯”è¼ƒç›´è§€ä¸€é»\nè³‡æ–™åº«è¨­è¨ˆ å»ºç«‹ Model + Migration 1 php artisan make:model Models/Task -m ç·¨è¼¯ Migration 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 class CreateTasksTable extends Migration { /** * Run the migrations. * * @return void */ public function up() { Schema::create(\u0026#39;tasks\u0026#39;, function (Blueprint $table) { $table-\u0026gt;id(); $table-\u0026gt;foreignId(\u0026#39;user_id\u0026#39;)-\u0026gt;constrained(\u0026#39;users\u0026#39;)-\u0026gt;onUpdate(\u0026#39;cascade\u0026#39;)-\u0026gt;onDelete(\u0026#39;cascade\u0026#39;); $table-\u0026gt;string(\u0026#39;title\u0026#39;, 100)-\u0026gt;comment(\u0026#39;æ¨™é¡Œ\u0026#39;); $table-\u0026gt;timestamps(); $table-\u0026gt;softDeletes(); }); } /** * Reverse the migrations. * * @return void */ public function down() { Schema::dropIfExists(\u0026#39;tasks\u0026#39;); } } åŸ·è¡Œ Migration 1 php artisan migrate èª¿æ•´ Model æª”æ¡ˆ app/Models/Task.php\nåŠ å…¥ fillable é—œè¯ user 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 class Task extends Model { protected $fillable = [ \u0026#39;user_id\u0026#39;, \u0026#39;title\u0026#39; ]; /** * é—œè¯æœƒå“¡ * * @return Illuminate\\Database\\Eloquent\\Model User */ public function user() { return $this-\u0026gt;belongesTo(User::class); } } æª”æ¡ˆ app/Models/User.php\né—œè¯ Task (ä¸€å°å¤š) 1 2 3 4 5 6 7 8 9 10 11 12 13 class User extends Authenticatable implements MustVerifyEmail { /** * é—œè¯ Task * * @return Illuminate\\Database\\Eloquent\\Model Task */ public function tasks() { return $this-\u0026gt;hasMany(Task::class); } } å»ºç«‹ Controller 1 php artisan make:controller TaskController -r å»ºç«‹è·¯ç”± 1 Route::resource(\u0026#39;tasks\u0026#39;, \u0026#39;TaskController\u0026#39;); ","date":"2022-11-23T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day23-todo-intro/","title":"Day 23. å¯¦ä½œ TODO ç·´ç¿’ ä¸Šç¯‡:å‰ç½®ä½œæ¥­"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 21. è³‡æ–™æ•´ç†å¥½å¹«æ‰‹ - Collection\næ¥ä¸‹ä¾†æœƒå¯¦ä½œ ToDo çš„åŠŸèƒ½ï¼Œ å¯¦ä½œå‰æˆ‘å€‘å…ˆä»‹ç´¹ä¸€ä¸‹ Resource Controllers\nä¸»è¦ ä¸Šæ–‡ä»¶\nä¹‹å‰æˆ‘å€‘æ–¼Day 5. è·¯ç”±: Router æœ‰ä»‹ç´¹éæˆ‘æ¨è–¦çš„ route crudçš„ä½¿ç”¨ï¼Œç›´æ¥é™„ä¸Šä¸Šæ¬¡ç¯„ä¾‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 Route::group([\u0026#39;prefix\u0026#39; =\u0026gt; \u0026#39;users\u0026#39;, \u0026#39;as\u0026#39; =\u0026gt; \u0026#39;users.\u0026#39;], function () { // åˆ—è¡¨ Route::get(\u0026#39;/\u0026#39;, \u0026#39;UserController@index\u0026#39;)-\u0026gt;name(\u0026#39;index\u0026#39;); // æ–°å¢ Route::get(\u0026#39;/create\u0026#39;, \u0026#39;UserController@create\u0026#39;)-\u0026gt;name(\u0026#39;create\u0026#39;); Route::post(\u0026#39;/\u0026#39;, \u0026#39;UserController@store\u0026#39;)-\u0026gt;name(\u0026#39;store\u0026#39;); // ç·¨è¼¯ Route::get(\u0026#39;/{user}/edit\u0026#39;, \u0026#39;UserController@edit\u0026#39;)-\u0026gt;name(\u0026#39;edit\u0026#39;); Route::patch(\u0026#39;/{user}\u0026#39;, \u0026#39;UserController@update\u0026#39;)-\u0026gt;name(\u0026#39;update\u0026#39;); // åˆªé™¤ Route::delete(\u0026#39;/{user}\u0026#39;, \u0026#39;UserController@destroy\u0026#39;)-\u0026gt;name(\u0026#39;destroy\u0026#39;); }); å¯ä»¥çœ‹åˆ° ã€åˆ—è¡¨ã€ã€ã€æ–°å¢ã€ã€ã€æ›´æ–°ã€ã€ã€åˆªé™¤ã€çš„è·¯ç”±è¨­å®šï¼Œ ç‚ºä½•æˆ‘è¦é€™æ¨£è¨­å®šå‘¢ï¼Ÿ\nå› ç‚º Laravel å°æ–¼é€™ä»¶äº‹æœ‰åšå¥½çš„åŠŸèƒ½ï¼Œ ä¸Šé¢çš„å…§å®¹å¯ä»¥ç°¡åŒ–æˆ\n1 Route::resource(\u0026#39;users\u0026#39;, \u0026#39;UserController\u0026#39;); è€Œæˆ‘å€‘è¦å¦‚ä½•ä¾¿åˆ©çš„å»å°æ‡‰é€™äº›è·¯ç”±å‘¢ï¼Ÿ\nä½ åªè¦ä¸‹\n1 php artisan make:controller UserController -r (åœ–ç‰‡æ˜¯å› æ‡‰ä¸‹ä¸€ç¯‡æ–‡ç« éœ€è¦)\nLaravel å°±æœƒå¹«ä½ ç”¢ç”Ÿå¥½å‰›å‰›çš„è·¯ç”±æ‰€æœ‰å°æ‡‰åˆ°çš„ controller çš„ functions\nç›¸ç•¶æ–¹ä¾¿ã€‚\nç”¢ç”Ÿçš„æª”æ¡ˆæœƒåƒä¸‹é¢é€™æ¨£\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 namespace App\\Http\\Controllers; use Illuminate\\Http\\Request; class UserController extends Controller { /** * åˆ—è¡¨ */ public function index() { // } /** * æ–°å¢çš„é é¢ */ public function create() { // } /** * æ–°å¢ */ public function store(Request $request) { // } /** * é¡¯ç¤º */ public function show($id) { // } /** * æ›´æ–°çš„é é¢ */ public function edit($id) { // } /** * æ›´æ–° */ public function update(Request $request, $id) { // } /** * åˆªé™¤ */ public function destroy($id) { // } } ","date":"2022-11-22T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day22-make-resource-controller/","title":"Day 22. CRUD å¾ˆç°¡å–® Resource Controller"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 20. Eloquent Polymorphic Relationships å¤šæ…‹çš„å¤šå°å¤š\nä»Šå¤©è¦ä¾†åˆ†äº« Collection\nä¸»è¦ ä¸Šæ–‡ä»¶\nè³‡æ–™åº«å–å‡ºä¾†é è¨­éƒ½æ˜¯ collectionï¼Œ\nä»¥å‰é‚„ä¸çŸ¥é“é€™æ±è¥¿æ™‚ï¼Œéƒ½æ˜¯å…¨éƒ¨è½‰æˆ array åœ¨ä¾ç…§éœ€æ±‚ç›´æ¥æ•´ç†\nå¾Œä¾†æ‰æ…¢æ…¢ç™¼ç¾ collection é€™å€‹å¥½æ±è¥¿\nçœ‹èµ·ä¾†è·Ÿ array åšä¸€æ¨£çš„äº‹æƒ…\nä¸é code çœ‹èµ·ä¾†æœƒæ¯”è¼ƒå¥½çœ‹è€Œä¸”å¯è®€æ€§ä¹Ÿæ¯”è¼ƒé«˜ï¼Œæœƒç›¸å°å¥½ç¶­è­·\nä»¥ä¸‹æä¾›å¹¾å€‹æˆ‘å¸¸ç”¨çš„ function\nfunctions map() ä½ æƒ³å°‡è³‡æ–™åº«çš„å€¼å–å‡ºå¾Œï¼Œåšä¸€äº›åŠ å·¥æ•´ç†å°±å¯ä»¥ä½¿ç”¨é€™å€‹\n1 2 3 4 5 6 7 8 9 $products = Product::get(); $data = $products-\u0026gt;map(function($product) { return [ \u0026#39;code\u0026#39; =\u0026gt; $product-\u0026gt;code, \u0026#39;name\u0026#39; =\u0026gt; $product-\u0026gt;name, \u0026#39;price\u0026#39; =\u0026gt; $product-\u0026gt;price, ]; }); ä»¥ä¸Šå¦‚æœä½¿ç”¨ php åŸç”Ÿæ–¹æ³•\n1 2 3 4 5 6 7 8 9 10 $products = Product::get(); $data = []; foreach($products as $product) { $data[] = [ \u0026#39;code\u0026#39; =\u0026gt; $product-\u0026gt;code, \u0026#39;name\u0026#39; =\u0026gt; $product-\u0026gt;name, \u0026#39;price\u0026#39; =\u0026gt; $product-\u0026gt;price, ]; } æ˜¯ä¸æ˜¯ map ä½¿ç”¨ä¸Šæœƒæ¯”è¼ƒå¥½çœ‹ä¸€é»å‘¢ï¼Ÿ\ngroupBy() æ¦‚å¿µè·Ÿè³‡æ–™åº«çš„ groupby å¾ˆåƒï¼Œ\nå°±æ˜¯å°‡è³‡æ–™ç¾¤çµ„èµ·ä¾†\nç¾¤çµ„èµ·ä¾†çš„æœƒç•¶ä½œä»–çš„ key\nä»¥ä¸Šé¢çš„ä¾‹å­\n1 2 3 4 5 $products = Product::get(); $data = $products-\u0026gt;groupBy(function($product) { return $product-\u0026gt;type; }); å•†å“å°±æœƒä¾ç…§ä»–çš„é¡åˆ¥ type ç¾¤çµ„èµ·ä¾†\nfilter() æ²’å•¥å¥½èªªçš„\nç›´æ¥æ”¾ç¯„ä¾‹ä½ å€‘å°±æœƒæ‡‚äº†\nå°±æ˜¯ç¯©é¸ä½ å€‘è¦çš„è³‡æ–™è€Œå·²\n1 2 3 4 5 6 7 $collection = collect([1, 2, 3, 4]); $filtered = $collection-\u0026gt;filter(function ($value, $key) { return $value \u0026gt; 2; }); $filtered-\u0026gt;all(); çµèª é‚„æœ‰å¾ˆå¤šå¥½æ–¹æ³•ï¼Œ æˆ‘å˜—å˜—æ‡Šæƒ±æ€éº¼æ•´ç†å¥½è³‡æ–™æ™‚å°±æœƒåƒè€ƒå®˜æ–¹çš„ collection çš„æ–¹æ³•å€‘\n","date":"2022-11-21T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day21-collection/","title":"Day 21. è³‡æ–™æ•´ç†å¥½å¹«æ‰‹ - Collection"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ ä¸Šä¸€ç¯‡: Day 19. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°å¤š\nä»Šå¤©è¦ä¾†åˆ†äº« å¤šæ…‹çš„å¤šå°å¤š\né—œè¯è¡¨æ–‡ç« å€ é—œè¯ åç¨± å‚³é€é–€ One To One ä¸€å°ä¸€ Day 15. Eloquent Relationships ä¸€å°ä¸€ One To Many å¤šå°å¤š Day 16. Eloquent Relationships ä¸€å°å¤š Many To Many å¤šå°å¤š Day 17. Eloquent Relationships å¤šå°å¤š Polymorphic One To One å¤šæ…‹çš„ä¸€å°ä¸€ Day 18. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°ä¸€ Polymorphic One To Many å¤šæ…‹çš„ä¸€å°å¤š Day 19. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°å¤š Polymorphic Many To Many å¤šæ…‹çš„å¤šå°å¤š Day 20. Eloquent Polymorphic Relationships å¤šæ…‹çš„å¤šå°å¤š ä¸»è¦å…§å®¹ æ–‡ä»¶\nè¡¨çš„é—œä¿‚ å‡è¨­æˆ‘å€‘ä»Šå¤©è¦è¨­è¨ˆæ¨™ç±¤ç®¡ç†\nè²¼æ–‡æœ‰æ¨™ç±¤ å½±ç‰‡ä¹Ÿæœ‰æ¨™ç±¤\nç”šè‡³æ¨™ç±¤ä¹Ÿæœ‰è‡ªå·±çš„è³‡è¨Š\nå°±æ˜¯å¯ä»¥é€é ç¬¬3å¼µè¡¨å¤šå°å¤šçš„æ–¹å¼é—œè¯ä»–å€‘\nè³‡æ–™è¡¨é—œä¿‚å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 posts id - integer name - string videos id - integer name - string tags id - integer name - string taggables tag_id - integer taggable_id - integer taggable_type - string Model è¨­å®š app/Models/Tag.php\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 class Tag extends Model { // é—œè¯è²¼æ–‡ public function posts() { return $this-\u0026gt;morphedByMany(Post::class, \u0026#39;taggable\u0026#39;); } // é—œè¯å½±ç‰‡ public function videos() { return $this-\u0026gt;morphedByMany(Video::class, \u0026#39;taggable\u0026#39;); } } app/Models/Post.php\n1 2 3 4 5 6 7 class Post extends Model { public function tags() { return $this-\u0026gt;morphToMany(Tag::class, \u0026#39;taggable\u0026#39;); } } app/Models/Video.php\n1 2 3 4 5 6 7 class Video extends Model { public function tags() { return $this-\u0026gt;morphToMany(Tag::class, \u0026#39;taggable\u0026#39;); } } å¦‚ä½•ä½¿ç”¨ å–å¾— 1 2 3 4 5 6 7 8 9 10 11 12 13 14 $post = Post::find(1); // post å–å¾— tag foreach ($post-\u0026gt;tags as $tag) { // } $tag = Tag::find(1); # tag å–å¾— video foreach ($tag-\u0026gt;videos as $video) { // } ","date":"2022-11-20T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day20-eloquent-relationships-polymorphic-many-to-many/","title":"Day 20. Eloquent Polymorphic Relationships å¤šæ…‹çš„å¤šå°å¤š"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ ä¸Šä¸€ç¯‡: Day 18. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°ä¸€ ä»Šå¤©è¦ä¾†åˆ†äº« å¤šæ…‹çš„ä¸€å°å¤š\né—œè¯è¡¨æ–‡ç« å€ é—œè¯ åç¨± å‚³é€é–€ One To One ä¸€å°ä¸€ Day 15. Eloquent Relationships ä¸€å°ä¸€ One To Many å¤šå°å¤š Day 16. Eloquent Relationships ä¸€å°å¤š Many To Many å¤šå°å¤š Day 17. Eloquent Relationships å¤šå°å¤š Polymorphic One To One å¤šæ…‹çš„ä¸€å°ä¸€ Day 18. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°ä¸€ Polymorphic One To Many å¤šæ…‹çš„ä¸€å°å¤š Day 19. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°å¤š Polymorphic Many To Many å¤šæ…‹çš„å¤šå°å¤š Day 20. Eloquent Polymorphic Relationships å¤šæ…‹çš„å¤šå°å¤š ä¸»è¦å…§å®¹ æ–‡ä»¶\nè¡¨çš„é—œä¿‚ å»¶çºŒæ˜¨å¤©çš„é—œä¿‚ä¸€å¼µæ›å¤šå¼µçš„æ™‚å€™ï¼Œ\nè²¼æ–‡æœ‰å¤šå¼µåœ–ç‰‡ã€ä½¿ç”¨è€…ä¹Ÿæœ‰å¤šå¼µåœ–ç‰‡ æˆ‘å¯ä»¥é€éç¬¬3å¼µè¡¨å»å­˜å–åœ–ç‰‡\nè³‡æ–™è¡¨é—œä¿‚å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 users id - integer name - string posts id - integer name - string images id - integer url - string imageable_id - integer imageable_type - string Model è¨­å®š app/Models/Image.php\n1 2 3 4 5 6 7 class Image extends Model { public function imageable() { return $this-\u0026gt;morphTo(); } } app/Models/User.php\n1 2 3 4 5 6 7 class User extends Model { public function images() { return $this-\u0026gt;morphMany(Image::class, \u0026#39;imageable\u0026#39;); } } app/Models/Post.php\n1 2 3 4 5 6 7 class Post extends Model { public function images() { return $this-\u0026gt;morphMany(Image::class, \u0026#39;imageable\u0026#39;); } } å¦‚ä½•ä½¿ç”¨ å–å¾— 1 2 3 4 5 6 // æœƒå“¡å–å¾—åœ–ç‰‡ $user = User::find(1); $image = $user-\u0026gt;images; $image = Image::find(1); $imageable = $image-\u0026gt;imageable; ","date":"2022-11-19T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day19-eloquent-relationships-polymorphic-one-to-many/","title":"Day 19. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°å¤š"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ ä¸Šä¸€ç¯‡: Day 17. Eloquent Relationships å¤šå°å¤š\nä»Šå¤©è¦ä¾†åˆ†äº« å¤šæ…‹çš„ä¸€å°ä¸€\né—œè¯è¡¨æ–‡ç« å€ é—œè¯ åç¨± å‚³é€é–€ One To One ä¸€å°ä¸€ Day 15. Eloquent Relationships ä¸€å°ä¸€ One To Many å¤šå°å¤š Day 16. Eloquent Relationships ä¸€å°å¤š Many To Many å¤šå°å¤š Day 17. Eloquent Relationships å¤šå°å¤š Polymorphic One To One å¤šæ…‹çš„ä¸€å°ä¸€ Day 18. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°ä¸€ Polymorphic One To Many å¤šæ…‹çš„ä¸€å°å¤š Day 19. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°å¤š Polymorphic Many To Many å¤šæ…‹çš„å¤šå°å¤š Day 20. Eloquent Polymorphic Relationships å¤šæ…‹çš„å¤šå°å¤š ä¸»è¦å…§å®¹ æ–‡ä»¶\nè¡¨çš„é—œä¿‚ è²¼æ–‡æœ‰ä¸€å¼µåœ–ç‰‡ã€ä½¿ç”¨è€…ä¹Ÿæœ‰ä¸€å¼µåœ–ç‰‡\næˆ‘å¯ä»¥é€éç¬¬3å¼µè¡¨å»å­˜å–åœ–ç‰‡\nè³‡æ–™è¡¨é—œä¿‚å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 users id - integer name - string posts id - integer name - string images id - integer url - string imageable_id - integer imageable_type - string Model è¨­å®š app/Models/Image.php\n1 2 3 4 5 6 7 class Image extends Model { public function imageable() { return $this-\u0026gt;morphTo(); } } app/Models/User.php\n1 2 3 4 5 6 7 class User extends Model { public function image() { return $this-\u0026gt;morphOne(Image::class, \u0026#39;imageable\u0026#39;); } } app/Models/Post.php\n1 2 3 4 5 6 7 class Post extends Model { public function image() { return $this-\u0026gt;morphOne(Image::class, \u0026#39;imageable\u0026#39;); } } å¦‚ä½•ä½¿ç”¨ å–å¾— 1 2 3 4 5 6 // æœƒå“¡å–å¾—åœ–ç‰‡ $user = User::find(1); $image = $user-\u0026gt;image; $image = Image::find(1); $imageable = $image-\u0026gt;imageable; ","date":"2022-11-18T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day18-eloquent-relationships-polymorphic-one-to-one/","title":"Day 18. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°ä¸€"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ ä¸Šä¸€ç¯‡: Day 16. Eloquent Relationships ä¸€å°å¤š\nä»Šå¤©è¦ä¾†åˆ†äº« å¤šå°å¤š\né—œè¯è¡¨æ–‡ç« å€ é—œè¯ åç¨± å‚³é€é–€ One To One ä¸€å°ä¸€ Day 15. Eloquent Relationships ä¸€å°ä¸€ One To Many å¤šå°å¤š Day 16. Eloquent Relationships ä¸€å°å¤š Many To Many å¤šå°å¤š Day 17. Eloquent Relationships å¤šå°å¤š Polymorphic One To One å¤šæ…‹çš„ä¸€å°ä¸€ Day 18. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°ä¸€ Polymorphic One To Many å¤šæ…‹çš„ä¸€å°å¤š Day 19. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°å¤š Polymorphic Many To Many å¤šæ…‹çš„å¤šå°å¤š Day 20. Eloquent Polymorphic Relationships å¤šæ…‹çš„å¤šå°å¤š Many To many (å¤šå°å¤š) æ–‡ä»¶\nè¡¨çš„é—œä¿‚ è³‡æ–™è¡¨é—œä¿‚å¦‚ä¸‹\n1 2 3 4 5 6 7 8 9 10 11 users id - integer name - string roles id - integer name - string role_user user_id - integer role_id - integer Model è¨­å®š app/Models/User.php\n1 2 3 4 5 6 7 class User extends Model { public function roles() { return $this-\u0026gt;belongsToMany(Role::class); } } app/Models/Role.php\n1 2 3 4 5 6 7 class Role extends Model { public function users() { return $this-\u0026gt;belongsToMany(User::class); } } å¦‚ä½•ä½¿ç”¨ å–å¾— 1 2 3 // æœƒå“¡å–å¾—è§’è‰² $user = User::find(1); $roles = $user-\u0026gt;roles; æ–°å¢ / ä¿®æ”¹ / åˆªé™¤ 1 2 3 4 5 6 7 8 9 10 11 $user = App\\User::find(1); $rolesId = [1, 2, 3]; # æ–°å¢ attach $user-\u0026gt;roles()-\u0026gt;attach($rolesId); # åˆªé™¤ detach $user-\u0026gt;roles()-\u0026gt;detach($rolesId); # sync è‡ªå‹•æ–°å¢ã€åˆªé™¤ $user-\u0026gt;roles()-\u0026gt;sync($rolesId); snyc æœƒè‡ªå‹•åˆ¤æ–· è¦æ–°å¢é‚„æ˜¯åˆªé™¤ï¼Œæ»¿æ–¹ä¾¿çš„\né€²éš ä¸­é–“è¡¨åŠ å…¥æ™‚é–“æˆ³ é è¨­çš„ä¸­é–“è¡¨åªæœ‰ å…©å€‹æœ‰é—œä¿‚è¡¨çš„IDï¼Œæ™‚é–“æˆ³è¦è‡ªå·±åŠ \nåŠ ä¹Ÿå¾ˆå®¹æ˜“ï¼Œå°±æ˜¯é—œè¯çš„æ™‚å€™åŠ ä¸Š withTimestamps() å°±å¯ä»¥\n1 2 return $this-\u0026gt;belongsToMany(Role::class) -\u0026gt;withTimestamps(); è‡ªå®šç¾©ä½¿ç”¨ä¸­é–“è¡¨ æˆ‘å€‘é è¨­ä½¿ç”¨ä¸­é–“è¡¨éƒ½æ˜¯ä½¿ç”¨ pivot\nä½¿ç”¨æ–¹å¼å¦‚ä¸‹\n1 2 3 4 5 $user = User::find(1); foreach ($user-\u0026gt;roles as $role) { echo $role-\u0026gt;pivot-\u0026gt;created_at; } æ‰€ä»¥å¦‚æœè¦å­—å®šç¾©çš„è©±å¯ä»¥å†é—œè¯çš„æ™‚å€™ä½¿ç”¨ as åƒè€ƒä¸€ä¸‹ç¯„ä¾‹\n1 2 3 return $this-\u0026gt;belongsToMany(Role::class) -\u0026gt;as(\u0026#39;rrr\u0026#39;) -\u0026gt;withTimestamps(); ä½¿ç”¨çš„æ™‚å€™å°±æœƒè®Šæˆ \u0026hellip;\n1 2 3 foreach ($user-\u0026gt;roles as $role) { echo $role-\u0026gt;rrr-\u0026gt;created_at; } è‡ªè¨‚ä¸­é–“è¡¨ ä¸­é–“è¡¨(pivot) å®˜æ–¹æœƒæœ‰é è¨­çš„è¡¨åï¼Œ\nå°±æ˜¯å…©å€‹é—œä¿‚è¡¨çš„è¡¨åï¼Œå­—æ¯åœ¨å‰é¢çš„æ˜¯å‰é¢\nå¦‚\n1 2 users - role_user - roles aaa - aaa_bbb - bbb ä½†å…¶å¯¦æœ‰æ™‚å€™æœƒä¸æ˜¯å¦³è¦çš„åç¨±\næ‰€ä»¥æˆ‘å€‘å¯ä»¥å»º pivot æœƒå“¡ä»¥åŠè§’è‰²ä¸­é–“è¡¨ role_user é è¨­å°±æ˜¯ RoleUser\nå¦‚æœå¦³å¸Œæœ›æ˜¯ UserRole çš„è©± \u0026hellip;\n1 php artisan make:model UserRole -p é—œè¯çš„æ™‚å€™ä½¿ç”¨ using() å°±å¯ä»¥äº†\n1 2 3 4 return $this-\u0026gt;belongsToMany(Role::class) -\u0026gt;using(UserRole::class) -\u0026gt;as(\u0026#39;rrr\u0026#39;) -\u0026gt;withTimestamps(); çµèª ç•¶åˆæˆ‘è¦ç†è§£å¤šå°å¤šä¹Ÿå¡å¾ˆä¹…\nå¾Œä¾†ä¹Ÿæ˜¯åƒè€ƒ Laravel Daily çš„å½±ç‰‡æ‰æœƒä½¿ç”¨\né™„ä¸Šé€£çµ: Laravel Daily Pivot Table\n","date":"2022-11-17T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day17-eloquent-relationships-many-to-many/","title":"Day 17. Eloquent Relationships å¤šå°å¤š"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ ä¸Šä¸€ç¯‡: Day 15. Eloquent Relationships ä¸€å°ä¸€\nä»Šå¤©è¦ä¾†åˆ†äº« ä¸€å°å¤š\né—œè¯è¡¨æ–‡ç« å€ é—œè¯ åç¨± å‚³é€é–€ One To One ä¸€å°ä¸€ Day 15. Eloquent Relationships ä¸€å°ä¸€ One To Many å¤šå°å¤š Day 16. Eloquent Relationships ä¸€å°å¤š Many To Many å¤šå°å¤š Day 17. Eloquent Relationships å¤šå°å¤š Polymorphic One To One å¤šæ…‹çš„ä¸€å°ä¸€ Day 18. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°ä¸€ Polymorphic One To Many å¤šæ…‹çš„ä¸€å°å¤š Day 19. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°å¤š Polymorphic Many To Many å¤šæ…‹çš„å¤šå°å¤š Day 20. Eloquent Polymorphic Relationships å¤šæ…‹çš„å¤šå°å¤š One To many (ä¸€å°å¤š) æ–‡ä»¶\né€™è£¡å› ç‚ºæˆ‘æ²’æœ‰æƒ³åˆ°ï¼Œåˆé©çš„æ¶æ§‹æ‰€ä»¥å°±åƒè€ƒå®˜æ–¹çš„è¡¨æ ¼é—œä¿‚ï¼Œ\næˆ‘å€‘å‡è¨­ä¸€å€‹è²¼æ–‡æœ‰å¤šå€‹ç•™è¨€ï¼Œ\nè¡¨çš„é—œä¿‚ è³‡æ–™è¡¨é—œä¿‚å¦‚ä¸‹\n1 2 3 4 5 6 7 posts id - integer name - string comments id - integer post_id integer Model è¨­å®š app/Models/Post.php\n1 2 3 4 5 6 7 class Post extends Model { public function comments() { return $this-\u0026gt;hasMany(UserProfile::class); } } app/Models/Comment.php\n1 2 3 4 5 6 7 class Comment extends Model { public function post() { return $this-\u0026gt;belongesTo(Post::class); } } é€™äº› Model é—œè¯å¯ä»¥è‡ªå®šç¾©æ¬„ä½é—œè¯ï¼Œåªæ˜¯æˆ‘éƒ½æ˜¯ä½¿ç”¨é è¨­çš„ï¼Œ\nè·Ÿè‘— Laravel çš„è¨­è¨ˆèµ°ï¼Œå°±è¼•é¬†å¾ˆå¤š\nä¸ç”¨é¡å¤–æŒ‡å®šæ¬„ä½\nèˆ‰ä¾‹è‡ªå®šç¾©\n1 2 3 4 public function user() { return $this-\u0026gt;belongsTo(User::class, \u0026#39;foreign_key\u0026#39;, \u0026#39;other_key\u0026#39;); } å¦‚ä½•ä½¿ç”¨ 1 2 3 4 5 6 7 // æ–‡ç« å–å¾—ç•™è¨€ $post = Post::find(1); $comments = $post-\u0026gt;comments; // ç•™è¨€å–å¾—æ–‡ç«  $comment = Comment::find(1); $post = $comment-\u0026gt;post; å°å»ºè­° æˆ‘å€‹äººç¿’æ…£ ä¸€å°å¤šçš„æ™‚å€™ function nameæœƒä½¿ç”¨è¤‡æ•¸ï¼Œ å¤šå°ä¸€çš„æ™‚å€™æœƒä½¿ç”¨å–®æ•¸\nå¦‚æ­¤ä¸€ä¾†ä½¿ç”¨ä¸Šå°±æ›´ç¬¦åˆèªæ„\n","date":"2022-11-16T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day16-eloquent-relationships-one-to-many/","title":"Day 16. Eloquent Relationships ä¸€å°å¤š"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ ä¸Šä¸€ç¯‡: Day 14. ä¸­ä»‹å±¤ Middleware\næˆ‘å€‘æº–å‚™è¦ä¾†ä»‹ç´¹ Laravel ORM çš„ Relationships äº†\né€™éšæ®µæˆ‘æœƒå€åˆ†æ¯”è¼ƒå¤šå¤©ä¾†åˆ†äº«\næœ‰å“ªäº›é—œè¯ï¼Ÿ å…ˆé™„ä¸Šæ–‡ä»¶\nä»¥ä¸‹æ˜¯å®˜æ–¹æ–‡ä»¶æä¾›çš„æ‰€æœ‰é—œè¯\nDefining Relationships One To One One To Many Many To Many Defining Custom Intermediate Table Models Has One Through Has Many Through Polymorphic Relationships One To One One To Many Many To Many Custom Polymorphic Types å…ˆç°¡å–®ä»‹ç´¹ä¸€ä¸‹ï¼Œé‚„æœ‰æˆ‘å€‘ä¸æœƒå…¨éƒ¨éƒ½è¬›\næœ¬æ¬¡åˆ†äº« é—œè¯ åç¨± æœƒåˆ†äº«? å‚™è¨» âœ… One To One ä¸€å°ä¸€ â­• One To Many å¤šå°å¤š â­• Many To Many å¤šå°å¤š â­• Custom è‡ªå®šç¾©é—œè¯ âŒ å¤ªæ·±å¥§ï¼ŒåŸæœ¬çš„å°±æ»¿å¤ ç”¨ Has One Through ä¸€å°ä¸€(å¤šä¸€å±¤) âŒ æ¦‚å¿µèˆ‡ä¸€å°ä¸€ç›¸åŒï¼Œå°±åªæ˜¯å¤šä¸€å±¤ Has Many Through ä¸€å°å¤š(å¤šä¸€å±¤) âŒ æ¦‚å¿µèˆ‡ä¸€å°å¤šç›¸åŒï¼Œå°±åªæ˜¯å¤šä¸€å±¤ Polymorphic One To One å¤šæ…‹çš„ä¸€å°ä¸€ â­• Polymorphic One To Many å¤šæ…‹çš„ä¸€å°å¤š â­• Polymorphic Many To Many å¤šæ…‹çš„å¤šå°å¤š â­• Custom Polymorphic Types å¤šæ…‹çš„è‡ªå®šç¾©é—œè¯ âŒ å¤ªæ·±å¥§ï¼ŒåŸæœ¬çš„å°±æ»¿å¤ ç”¨ é—œè¯è¡¨æ–‡ç« å€ é—œè¯ åç¨± å‚³é€é–€ One To One ä¸€å°ä¸€ Day 15. Eloquent Relationships ä¸€å°ä¸€ One To Many å¤šå°å¤š Day 16. Eloquent Relationships ä¸€å°å¤š Many To Many å¤šå°å¤š Day 17. Eloquent Relationships å¤šå°å¤š Polymorphic One To One å¤šæ…‹çš„ä¸€å°ä¸€ Day 18. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°ä¸€ Polymorphic One To Many å¤šæ…‹çš„ä¸€å°å¤š Day 19. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°å¤š Polymorphic Many To Many å¤šæ…‹çš„å¤šå°å¤š Day 20. Eloquent Polymorphic Relationships å¤šæ…‹çš„å¤šå°å¤š One To One (ä¸€å°ä¸€) æ–‡ä»¶\nè¡¨çš„é—œä¿‚ 1 2 3 4 5 6 7 users id - integer name - string user_profiles id - integer user_id integer ä¸Šæ¬¡æˆ‘å€‘æœ‰å»ºä½¿ç”¨è€…åŸºæœ¬è³‡æ–™ user_profilesä»–å€‘é—œä¿‚å¯ä»¥åƒè€ƒåœ–ç‰‡ï¼Œ\nä¸€å€‹ä½¿ç”¨è€…åªæœƒå°æ‡‰åˆ°ä¸€å€‹åŸºæœ¬è³‡æ–™\nModel è¨­å®š æ‰€ä»¥æˆ‘å€‘å¯ä»¥å»è¨­å®šæˆ‘å€‘çš„ Model\napp/Models/User.php\n1 2 3 4 5 6 7 class User extends Authenticatable implements MustVerifyEmail { public function profile() { return $this-\u0026gt;hasOne(UserProfile::class); } } app/Models/UserProfile.php\n1 2 3 4 5 6 7 class UserProfile extends Model { public function user() { return $this-\u0026gt;belongesTo(User::class); } } å¦‚ä½•ä½¿ç”¨ 1 2 $user = User::find(1); $profile = $user-\u0026gt;profile; é€™æ¨£å°±èƒ½æˆåŠŸå–å¾—ä½¿ç”¨è€…çš„åŸºæœ¬è³‡æ–™äº†\n","date":"2022-11-15T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day15-eloquent-relationships-one-to-one/","title":"Day 15. Eloquent Relationships ä¸€å°ä¸€"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 13. ç¬¬äºŒå€‹é é¢: å€‹äººè³‡æ–™ç¶­è­·\nä»Šå¤©ä¾†è·Ÿå¤§å®¶åˆ†äº« ä¸­ä»‹å±¤ - Middleware å…ˆå‰æˆ‘å€‘å®£å‘Šè·¯ç”±ç›´æ¥æŒ‡å‘è² è²¬çš„ Controller ä»¥åŠ Functionï¼Œ\næœ‰æ™‚å€™å¯èƒ½æœƒæœ‰ä¸€äº›è³‡æ–™çš„é è™•ç†æˆ–è€…æ˜¯æ¬Šé™çš„è¨­å®š\nå¦‚: é€™å€‹é é¢éœ€è¦å…ˆç™»å…¥æ‰èƒ½ä½¿ç”¨ \u0026hellip;\né€™æ™‚å€™å°±å¯ä»¥ä½¿ç”¨ middleware è™•ç†é€™ä¸€æ®µ Laravel ä¹Ÿæœ‰æä¾›ä¸€äº›é è¨­çš„ middleware\nä»Šå¤©æˆ‘å€‘å…ˆè‘—é‡èŠ middleware åŸºæœ¬è¨­å®šä»¥åŠä½¿ç”¨\nä¹‹å¾Œåœ¨æ•™å¤§å®¶è‡ªå®šç¾©\nè¨­å®šæª” æˆ‘å€‘å¯ä»¥å…ˆçœ‹åˆ° /app/Http/Kernel.php æ˜¯è¨­å®š middleware çš„åœ°æ–¹\næª”æ¡ˆè£é¢æœƒçœ‹åˆ°3å€‹ array\nå…¨åŸŸ middleware $middleware é€™æ˜¯å…¨åŸŸçš„ï¼Œåªè¦è¨­å®šåœ¨é€™æ¯å€‹é é¢éƒ½æœƒåŸ·è¡Œ\n1 2 3 4 5 6 7 8 9 protected $middleware = [ // \\App\\Http\\Middleware\\TrustHosts::class, \\App\\Http\\Middleware\\TrustProxies::class, \\Fruitcake\\Cors\\HandleCors::class, \\App\\Http\\Middleware\\CheckForMaintenanceMode::class, \\Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize::class, \\App\\Http\\Middleware\\TrimStrings::class, \\Illuminate\\Foundation\\Http\\Middleware\\ConvertEmptyStringsToNull::class, ]; ç¾¤çµ„ middleware $middlewareGroups é€™æ˜¯ç¾¤çµ„çš„ï¼Œå¯ä»¥å°‡ä½ è¨­å®šçš„ middleware åˆ†ç¾¤ï¼Œ\nå°±å¯ä»¥ä¸ç”¨ä¸€å€‹ä¸€å€‹ä½¿ç”¨\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 protected $middlewareGroups = [ \u0026#39;web\u0026#39; =\u0026gt; [ \\App\\Http\\Middleware\\EncryptCookies::class, \\Illuminate\\Cookie\\Middleware\\AddQueuedCookiesToResponse::class, \\Illuminate\\Session\\Middleware\\StartSession::class, // \\Illuminate\\Session\\Middleware\\AuthenticateSession::class, \\Illuminate\\View\\Middleware\\ShareErrorsFromSession::class, \\App\\Http\\Middleware\\VerifyCsrfToken::class, \\Illuminate\\Routing\\Middleware\\SubstituteBindings::class, ], \u0026#39;api\u0026#39; =\u0026gt; [ \u0026#39;throttle:60,1\u0026#39;, \\Illuminate\\Routing\\Middleware\\SubstituteBindings::class, ], ]; å®˜æ–¹é è¨­ route/web.php å°±åƒä»–çš„ web ç¾¤çµ„ï¼Œå¯ä»¥åƒè€ƒ /app/Providers/RouteServiceProvider.php å¾—çŸ¥\næŒ‡æ´¾çµ¦è·¯ç”±çš„ Middleware $routeMiddleware é€™æ˜¯è¨­å®šåœ¨è·¯ç”±çš„ï¼Œä¹Ÿå¯ä»¥è¨­å®šåœ¨ controller çš„ __construct()\n1 2 3 4 5 6 7 8 9 10 11 12 protected $routeMiddleware = [ \u0026#39;auth\u0026#39; =\u0026gt; \\App\\Http\\Middleware\\Authenticate::class, \u0026#39;auth.basic\u0026#39; =\u0026gt; \\Illuminate\\Auth\\Middleware\\AuthenticateWithBasicAuth::class, \u0026#39;bindings\u0026#39; =\u0026gt; \\Illuminate\\Routing\\Middleware\\SubstituteBindings::class, \u0026#39;cache.headers\u0026#39; =\u0026gt; \\Illuminate\\Http\\Middleware\\SetCacheHeaders::class, \u0026#39;can\u0026#39; =\u0026gt; \\Illuminate\\Auth\\Middleware\\Authorize::class, \u0026#39;guest\u0026#39; =\u0026gt; \\App\\Http\\Middleware\\RedirectIfAuthenticated::class, \u0026#39;password.confirm\u0026#39; =\u0026gt; \\Illuminate\\Auth\\Middleware\\RequirePassword::class, \u0026#39;signed\u0026#39; =\u0026gt; \\Illuminate\\Routing\\Middleware\\ValidateSignature::class, \u0026#39;throttle\u0026#39; =\u0026gt; \\Illuminate\\Routing\\Middleware\\ThrottleRequests::class, \u0026#39;verified\u0026#39; =\u0026gt; \\Illuminate\\Auth\\Middleware\\EnsureEmailIsVerified::class, ]; ä½¿ç”¨ ä½¿ç”¨çš„æ–¹æ³•æœ‰å¾ˆå¤šç¨®ï¼Œ æˆ‘ç¿’æ…£æŠŠ middleware è¨­å®šåœ¨ routeï¼Œé€™æ¨£èƒ½ä¸€ç›®äº†ç„¶çŸ¥é“å“ªäº›åœ°æ–¹æœ‰ middleware åƒæˆ‘å€‘ä¸Šæ¬¡ç·¨è¼¯å€‹äººè³‡æ–™é ï¼Œåªæœ‰ç™»å…¥å¾Œæ‰èƒ½ä½¿ç”¨ï¼Œ\né€™æ™‚å€™å¯ä»¥è¨­å®š auth çš„ middleware\næ–¹æ³•ä¸€ (route) 1 2 3 4 Route::group([\u0026#39;prefix\u0026#39; =\u0026gt; \u0026#39;profile\u0026#39;, \u0026#39;as\u0026#39; =\u0026gt; \u0026#39;profile.\u0026#39; ], function() { Route::get(\u0026#39;/\u0026#39;, \u0026#39;ProfileController@edit\u0026#39;)-\u0026gt;name(\u0026#39;edit\u0026#39;); Route::post(\u0026#39;/\u0026#39;, \u0026#39;ProfileController@update\u0026#39;)-\u0026gt;name(\u0026#39;update\u0026#39;); })-\u0026gt;middleware(\u0026#39;auth\u0026#39;); æ–¹æ³•äºŒ (route) 1 2 3 4 Route::group([\u0026#39;prefix\u0026#39; =\u0026gt; \u0026#39;profile\u0026#39;, \u0026#39;as\u0026#39; =\u0026gt; \u0026#39;profile.\u0026#39;, \u0026#39;middleware\u0026#39; =\u0026gt; \u0026#39;auth\u0026#39; ], function() { Route::get(\u0026#39;/\u0026#39;, \u0026#39;ProfileController@edit\u0026#39;)-\u0026gt;name(\u0026#39;edit\u0026#39;);1 Route::post(\u0026#39;/\u0026#39;, \u0026#39;ProfileController@update\u0026#39;)-\u0026gt;name(\u0026#39;update\u0026#39;); }); æ–¹æ³•ä¸‰ (controller) 1 2 3 4 5 6 7 8 9 class ProfileController extends Controller { public function __construct() { $this-\u0026gt;middleware(\u0026#39;auth\u0026#39;); } // ... } æ¸¬è©¦ é€™æ™‚å€™æ‰“é–‹ç„¡ç—•é é¢ç›´æ¥åŸ·è¡Œ /profile é é¢å°±æœƒç›´æ¥è¢«å°å‘ç™»å…¥é äº†ï¼\n","date":"2022-11-14T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day14-middleware/","title":"Day 14. ä¸­ä»‹å±¤ Middleware"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 12. Eloquent: Model\nä»Šå¤©æˆ‘å€‘è¦åšç¬¬äºŒå€‹é é¢äº†\nä¸»è¦ é€™æ¬¡è¦ä¾†æ›´æ–°å€‹äººè³‡æ–™ï¼Œ\næˆ‘å€‘æŠŠæœƒå“¡è·Ÿå€‹äººè³‡æ–™è¡¨åˆ†é–‹ï¼Œæ‰€ä»¥é€™æ¬¡è¦æ›´æ–°å…©å¼µè¡¨ usersã€ user_profiles\nå»ºç«‹ route é–‹å•Ÿæª”æ¡ˆ route/web.php è¨­å®šè·¯ç”±\n1 2 3 4 Route::group([\u0026#39;prefix\u0026#39; =\u0026gt; \u0026#39;profile\u0026#39;, \u0026#39;as\u0026#39; =\u0026gt; \u0026#39;profile.\u0026#39; ], function() { Route::get(\u0026#39;/\u0026#39;, \u0026#39;ProfileController@edit\u0026#39;)-\u0026gt;name(\u0026#39;edit\u0026#39;); Route::post(\u0026#39;/\u0026#39;, \u0026#39;ProfileController@update\u0026#39;)-\u0026gt;name(\u0026#39;update\u0026#39;); }); å»ºç«‹ controller 1 php artisan make:controller ProfileController å»ºç«‹ controller function å€‘ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 class ProfileController extends Controller { /** * é¡¯ç¤º */ public function edit() { } /** * update */ public function update(Request $reqest) { } } å»ºç«‹ viewåŠå…¥å£ æˆ‘æŠŠå…¥å£æ”¾åœ¨å³ä¸Šè§’ç™»å‡ºçš„ä¸‹æ‹‰é¸å–®ä¸­,\nroute('profile.edit') ç‚ºæˆ‘å€‘å‰›å‰›è¨­å®šçš„è·¯ç”±çš„åç¨±\n1 2 3 4 5 6 7 \u0026lt;div class=\u0026#34;dropdown-menu dropdown-menu-right\u0026#34; aria-labelledby=\u0026#34;navbarDropdown\u0026#34;\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;a class=\u0026#34;dropdown-item\u0026#34; href=\u0026#34;{{ route(\u0026#39;profile.edit\u0026#39;) }}\u0026#34;\u0026gt; å€‹äººè³‡æ–™ç¶­è­· \u0026lt;/a\u0026gt; \u0026lt;!-- ... --\u0026gt; \u0026lt;/div\u0026gt; å»ºç«‹ view æˆ‘æ˜¯ç›´æ¥è¤‡è£½ home.blade.php çš„å…§å®¹è®Š profile.blade.php\nold() æ˜¯ Laravel è¡¨å–®çš„ç¥å¥‡é­”æ³•å¯ä»¥ä¿ç•™é€å‡ºçš„å€¼ï¼Œ\nä¹‹å¾Œ é©—è­‰(validation) çš„å–®å…ƒæœƒè©³ç´°è§£èªª\nèª¿æ•´ ProfileController çš„ edit() view('profile', compact('user')) ç‚ºé¡¯ç¤º view çš„ç•«é¢,\nç¬¬ä¸€å€‹åƒæ•¸æ˜¯ view çš„é é¢ï¼Œç¬¬äºŒå€‹åƒæ•¸æ˜¯è¦å‚³å…¥çš„åƒæ•¸\n1 2 3 4 5 6 7 8 9 10 11 12 use Illuminate\\Support\\Facades\\Auth; class ProfileController extends Controller { public function edit() { $user = Auth::user(); return view(\u0026#39;profile\u0026#39;, compact(\u0026#39;user\u0026#39;)); } // ... } Auth ç‚ºç›®å‰ç™»å…¥çš„ä½¿ç”¨è€…ï¼Œè¨˜å¾—è¦ use Illuminate\\Support\\Facades\\Auth; å“¦\nèª¿æ•´ ProfileController çš„ update() 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 class ProfileController extends Controller { public function update(Request $reqest) { $user = Auth::user(); $user-\u0026gt;update([ \u0026#39;name\u0026#39; =\u0026gt; $reqest-\u0026gt;name ]); UserProfile::updateOrCreate([ \u0026#39;user_id\u0026#39; =\u0026gt; $user-\u0026gt;id ], [ \u0026#39;gender\u0026#39; =\u0026gt; $reqest-\u0026gt;gender, \u0026#39;birthday\u0026#39; =\u0026gt; $reqest-\u0026gt;birthday, \u0026#39;address\u0026#39; =\u0026gt; $reqest-\u0026gt;address, ]); session()-\u0026gt;flash(\u0026#39;status\u0026#39;, \u0026#39;æ›´æ–°æˆåŠŸã€‚\u0026#39;); return redirect()-\u0026gt;route(\u0026#39;home\u0026#39;); } } é€™æ¨£å°±å®Œæˆç°¡å–®çš„æœƒå“¡åŸºæœ¬è³‡æ–™æ›´æ–°äº†ã€‚\n","date":"2022-11-13T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day13-user-profile/","title":"Day 13. ç¬¬äºŒå€‹é é¢: å€‹äººè³‡æ–™ç¶­è­·"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ ä¸Šä¸€ç¯‡: Day 11. å»ºç«‹è³‡æ–™è¡¨: Migration\nä»Šå¤©ä¾†åˆ†äº« Laravel çš„ model åç‚º Eloquent ORM\nä¸»è¦ ä¸Šï¼æ–‡ï¼ä»¶ï¼\nEloquent ä¹Ÿæ˜¯æˆ‘è¦ºå¾— Laravel å¾ˆé¦™çš„åŸå› ä¹‹ä¸€ï¼Œ\né€™é‚Šç°¡å–®ä»‹ç´¹ä¸€ä¸‹ï¼Œé—œè¯çš„éƒ¨ä»½ä¹‹å¾Œå†ç¨ç«‹èŠ\nåŸºæœ¬è¨­å®š åŸºæœ¬è¨­å®šæ–‡ä»¶\nè‡ªå®šç¾© Table Name 1 2 3 4 class User extends Model { protected $table = \u0026#39;user_list\u0026#39;; } è‡ªå®šç¾© Primary Keys 1 2 3 4 class User extends Model { protected $primaryKey = \u0026#39;pid\u0026#39;; } è»Ÿåˆªé™¤ æˆ‘å€‘å¸¸å¸¸æœƒè¨­å®šè»Ÿåˆªé™¤åœ¨å¤§éƒ¨åˆ†çš„è¡¨ï¼Œå› ç‚ºé¿å…è³‡æ–™åˆªé™¤å¾Œç„¡æ³•å›æº¯å•é¡Œï¼Œ\né€™æ™‚å€™æˆ‘å€‘å°±éœ€è¦åœ¨ Model use SoftDeletes; ç•¶ç„¶æˆ‘è¦é‚„è¦è¨­å®š migration $table-\u0026gt;softDeletes();\nmigration 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 class CreateUsersTable extends Migration { /** * Run the migrations. * * @return void */ public function up() { Schema::create(\u0026#39;users\u0026#39;, function (Blueprint $table) { $table-\u0026gt;id(); $table-\u0026gt;string(\u0026#39;name\u0026#39;); $table-\u0026gt;string(\u0026#39;email\u0026#39;)-\u0026gt;unique(); $table-\u0026gt;timestamp(\u0026#39;email_verified_at\u0026#39;)-\u0026gt;nullable(); $table-\u0026gt;string(\u0026#39;password\u0026#39;); $table-\u0026gt;rememberToken(); $table-\u0026gt;timestamps(); $table-\u0026gt;softDeletes(); // *** é€™å€‹ }); } /** * Reverse the migrations. * * @return void */ public function down() { Schema::dropIfExists(\u0026#39;users\u0026#39;); } } model 1 2 3 4 5 6 7 use Illuminate\\Database\\Eloquent\\Model; use Illuminate\\Database\\Eloquent\\SoftDeletes; class User extends Model { use SoftDeletes; // *** é€™å€‹ } æ–¹ä¾¿çš„æ–¹æ³•å€‘ æœå°‹ find() find å¯ä»¥ç›´æ¥æ‰¾ Primary Keys\n1 User::find(1) æ–°å¢ create() å‚³å…¥æ•´å€‹ array\n1 2 3 User::create([ \u0026#39;name\u0026#39; =\u0026gt; \u0026#39;abc\u0026#39; ]); æ›´æ–° update() å‚³å…¥æ•´å€‹ array\n1 2 3 4 $user = User::find(1); $user-\u0026gt;update([ \u0026#39;name\u0026#39; =\u0026gt; \u0026#39;abc\u0026#39; ]); ç›´æ¥å­˜ save() ä¹Ÿåˆ†ä»¥å–®ç¨å­˜å–æœ€å¾Œå† save() å°±å¥½ã€‚\n1 2 3 $user = User::find(1); $user-\u0026gt;name = \u0026#39;abc\u0026#39;; $user-\u0026gt;save(); æ›´æ–°æˆ–åˆªé™¤ updateOrCreate() é¡§åæ€ç¾©å°±æ˜¯æ‰¾ä¸åˆ°æˆ‘å°±æ–°å¢ï¼Œæ‰¾å¾—åˆ°æˆ‘å°±ä¿®æ”¹\nç¬¬ä¸€å€‹åƒæ•¸æ˜¯æ¢ä»¶ï¼Œ\nç¬¬äºŒå€‹åƒæ•¸æ˜¯å€¼\n1 2 3 4 5 User::updateOrCreate([ \u0026#39;id\u0026#39; =\u0026gt; 1, ], [ \u0026#39;name\u0026#39; =\u0026gt; \u0026#39;abc\u0026#39; ]); åˆªé™¤ delete() 1 2 $user = User::find(1); $user-\u0026gt;delete(); å¸¸ç”¨çš„æ¢ä»¶ Scopes æœ‰äº›æ¯”è¼ƒå¸¸ç”¨æœå°‹æ¢ä»¶å¯ä»¥é€éé€™å€‹\nScopes åˆ†æˆ global è·Ÿ local\næˆ‘é€™é‚Šåªä»‹ç´¹ localï¼Œ global åŸºæœ¬ä¸Šç”¨ä¸åˆ°\nglobal Scopes æ˜¯å…¨åŸŸçš„æ¦‚å¿µï¼Œæ¯æ¬¡Query éƒ½æœƒé™„åŠ ä¸Šå»çš„ æœå°‹æ¢ä»¶\næ–¹æ³•å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 class User extends Model { /** * Scope a query to only include active users. * * @param \\Illuminate\\Database\\Eloquent\\Builder $query * @return \\Illuminate\\Database\\Eloquent\\Builder */ public function scopeActive($query) { return $query-\u0026gt;where(\u0026#39;active\u0026#39;, 1); } } // ä½¿ç”¨æ–¹æ³• User::active()-\u0026gt;get() ","date":"2022-11-12T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day12-eloquent/","title":"Day 12. Eloquent: Model"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 10. Authentication-3 å¿˜è¨˜å¯†ç¢¼/é‡è¨­å¯†ç¢¼\nçµæŸæœƒå“¡è¨»å†Šç™»å…¥æµç¨‹\næº–å‚™è¦ä¾†è·Ÿå¤§å®¶èŠèŠ Model\nèŠ Model ä¹‹å‰ï¼Œå…ˆåˆ†äº«ä¸€ä¸‹ç”¨ä¾†å»ºç«‹è³‡æ–™è¡¨çš„å·¥å…· - Migrationï¼Œ\nä¸»è¦ ä¸€æ¨£ï¼Œä¸Šæ–‡ä»¶\næˆ‘å€‘å¹³å¸¸ å¯« code ç‰ˆæ§æœ‰ git å¯ä»¥è¿½è¹¤ code çš„ç‰ˆæœ¬åŠç•°å‹•ï¼Œ\nmigration ç°¡å–®èªªå°±æ˜¯è³‡æ–™è¡¨çš„ gitã€è³‡æ–™è¡¨çš„ç‰ˆæœ¬æ§åˆ¶ Laravel æœƒé€éé€™äº› migration çš„æª”æ¡ˆå€‘ï¼ŒåŸ·è¡Œå°è³‡æ–™è¡¨çš„ç•°å‹•\nå»ºç«‹ migration Modelã€migration ä¸€èµ·å»ºç«‹ å¹³å¸¸æˆ‘éƒ½æ˜¯å»ºç«‹ model é †ä¾¿å»ºç«‹ mgiration\nå‡è¨­æˆ‘ä»Šå¤©è¦å»ºç«‹ä¸€å€‹ UserProfileï¼Œ åªè¦åœ¨ make:model æ™‚ -m å°±æœƒä¸€èµ·ç”¢ç”Ÿ migration ç›¸å°çœäº‹\næŒ‡ä»¤\n1 php artisan make:model Models/UserProfile -m ä¹Ÿå¯ä»¥å–®ç¨ å»ºç«‹ migrationã€Model migration å‘½åè¦å‰‡æ˜¯é€™æ¨£çš„ create_\u0026lt;table_name\u0026gt;_table\n/database/migrations/ å°±æœƒç”¢ç”Ÿå°æ‡‰çš„æª”æ¡ˆ 1 php artisan make:migration create_user_profiles_table Model 1 php artisan make:model Model/UserProfile ç·¨è¼¯ migration é€™è£¡æˆ‘å€‘å…ˆç•¥é Model ä¸è«‡ï¼ŒåŸ·è¡Œå®Œä¸Šé¢å¾Œå°±å¯ä»¥ç·¨è¼¯ä½ å€‘çš„ Migration äº†\næª”æ¡ˆ database/migrations/2022_11_14_122200_create_user_profiles_table.php\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 class CreateUserProfilesTable extends Migration { public function up() { Schema::create(\u0026#39;user_profiles\u0026#39;, function (Blueprint $table) { $table-\u0026gt;id(); $table-\u0026gt;timestamps(); }); } public function down() { Schema::dropIfExists(\u0026#39;user_profiles\u0026#39;); } } é€™é‚Šä½ æœƒçœ‹åˆ°å…©å€‹ functionï¼Œup()ã€down()\nup() ä¸»è¦æ”¾ä½ è¦åŸ·è¡Œçš„è³‡æ–™è¡¨çµæ§‹å®£å‘Š ex: varcharã€intã€dateã€‚ä¹‹é¡çš„\ndown() æ¯æ¬¡åŸ·è¡Œä¸€æ¬¡ migraterå°±æœƒæœ‰ä¸€å€‹ batch(ç‰ˆæœ¬)\ndown å°±æ˜¯ rollbak migrate è¦ä½¿ç”¨çš„è¢«å›æ»¾çš„è³‡æ–™è¡¨\né€™é‚Šéƒ½æ˜¯ create table æ‰€ä»¥éƒ½æ˜¯ drop é‚£å€‹ table\nè³‡æ–™è¡¨æ¬„ä½å¦‚ä½•å®£å‘Š? é™„ä¸Š æ–‡ä»¶\nè£é¢æœ‰é™„ä¸Šæ‰€æœ‰è³‡æ–™åº«çš„å‹åˆ¥ï¼Œçœ‹ä½ éœ€è¦å“ªäº›æ¬„ä½\nå¤–ä¾†éµ å¤–ä¾†éµå¦‚æœè¦é—œè¯æ¯”è¼ƒç‰¹åˆ¥ æˆ‘éƒ½ç›´æ¥é€™æ¨£å®£å‘Š\nå¯ä»¥åƒè€ƒ æ–‡ä»¶\n1 2 3 4 5 6 7 8 9 $table-\u0026gt;foreignId(\u0026#39;user_id\u0026#39;) -\u0026gt;constrained(\u0026#39;users\u0026#39;) -\u0026gt;onUpdate(\u0026#39;cascade\u0026#39;) -\u0026gt;onDelete(\u0026#39;cascade\u0026#39;); // $table // -\u0026gt;foreignId(\u0026#39;\u0026lt;ä½ çš„æ¬„ä½åç¨±\u0026gt;\u0026#39;) // -\u0026gt;constrained(\u0026#39;\u0026lt;ä½ è¦é—œè¯çš„è¡¨\u0026gt;\u0026#39;) // -\u0026gt;onUpdate(\u0026#39;cascade\u0026#39;) // -\u0026gt;onDelete(\u0026#39;cascade\u0026#39;); Tableè¨»è§£ åŸºæœ¬ä¸Šæˆ‘æ¯å€‹ä¸Šå»çš„æ¬„ä½éƒ½æœƒè¨»è§£ï¼Œtable ä¹Ÿä¸ä¾‹å¤–\nä¸é Laravel Migration æ²’æœ‰è¡¨çš„è¨»è§£\næ‰€ä»¥æˆ‘éƒ½é€é DB class ç›´æ¥å°è¡¨è¨»è§£\næŒ‡ä»¤å¦‚ä¸‹\n1 2 3 4 5 // use use Illuminate\\Support\\Facades\\DB; // Tableè¨»è§£ DB::statement(\u0026#34;ALTER TABLE `user_profiles` comment \u0026#39;ä½¿ç”¨è€…åŸºæœ¬è³‡æ–™\u0026#39;\u0026#34;); åŸ·è¡Œ migration åªéœ€è¦åŸ·è¡Œé€™å€‹æŒ‡ä»¤å°±æœƒä¾ç…§å‰›å‰›å»ºç«‹çš„ç”¢ç”Ÿè³‡æ–™è¡¨\n1 php artisan migrate å¾Œæ‚”äº†è¦å›æ»¾ table 1 php artisan migrate:rollback æ¯æ¬¡å›æ»¾ migration å°±æ˜¯å›æ»¾æœ€æ–°çš„ batch ä¸€æ¬¡\nå¦‚æœè¦å¤šç‰ˆè™Ÿå¯ä»¥\n1 2 # å›æ»¾ 3 å€‹ batch php artisan migrate:rollback --batch=3 å¦‚æœè¦å…¨éƒ¨é‡ä¾†å¯ä»¥\n1 php artisan migrate:reset åŸºæœ¬ä¸Šé™¤éé–‹ç™¼éšæ®µï¼Œå¾ˆå°‘æœƒ rollback/reset\næ²åœŸé‡ä¾† é–‹ç™¼éšæ®µå¾ˆå¥½ç”¨çš„æŒ‡ä»¤ï¼Œå…¨éƒ¨å›æ»¾å†å…¨éƒ¨é‡å»º refresh\n1 php artisan migrate:refresh é€™æ¨£å°±æœƒå…¨éƒ¨ä¾ç…§åŸæœ¬çš„æ¨£å­å…¨éƒ¨é‡è·‘ï¼Œ\nç•¶ç„¶æ­¤æ™‚çš„ batch æœƒå…¨éƒ¨è®Šæˆ 1 å“¦ï¼Œå› ç‚ºé‡ä¾†äº†\nç‹€æ…‹ å¯ä»¥é€éé€™å€‹æŒ‡ä»¤æŸ¥çœ‹ç›®å‰åŸ·è¡Œç‹€æ³\n1 php artisan migrate:status ","date":"2022-11-11T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day11-migration/","title":"Day 11. å»ºç«‹è³‡æ–™è¡¨: Migration"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 9. Authentication-2 ä¿¡ç®±é©—è­‰ ä»Šå¤©ä¾†è·Ÿå¤§å®¶ å¿˜è¨˜å¯†ç¢¼/é‡è¨­å¯†ç¢¼\nä¸»è¦ ä¸€æ¨£é™„ä¸Šæ–‡ä»¶çµ¦å¤§å®¶ here!\nå¿˜è¨˜å¯†ç¢¼/é‡è¨­å¯†ç¢¼å…¶å¯¦æ–¼ php artisan ui bootstrap --auth ç”¢ç”Ÿæ™‚å°±æœ‰äº†\nåªæ˜¯é‚„æ˜¯ç°¡å–®å¸¶ä¸€ä¸‹é€™å€‹åŠŸèƒ½\nDEMO æ”¶ä¿¡ æ–¼ç™»å…¥é é¢é»æ“Šå¿˜è¨˜å¯†ç¢¼ä¸¦è‡³ä¿¡ç®±æ”¶ä¿¡ é‡æ–°è¨­å®šå¯†ç¢¼ æå®š ï¼\nçµèª æ ¹æ“šé€™ä¸‰ç¯‡ï¼ŒåŸºæœ¬ä¸Šå°±å¿«é€Ÿçš„ä½¿ç”¨ Laravel æœƒå“¡è¨»å†Šç™»å…¥ç­‰ç›¸é—œæµç¨‹äº†ï¼Œè£½ä½œä¸Šå…¶å¯¦ç›¸ç•¶ä¾¿åˆ©\nDay 8. Authentication-1 ç™»å…¥è¨»å†Š Day 9. Authentication-2 ä¿¡ç®±é©—è­‰ Day 10. Authentication-3 å¿˜è¨˜å¯†ç¢¼/é‡è¨­å¯†ç¢¼ ","date":"2022-11-10T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day10-auth-reset-password/","title":"Day 10. Authentication-3 å¿˜è¨˜å¯†ç¢¼/é‡è¨­å¯†ç¢¼"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 8. Authentication-1 ç™»å…¥è¨»å†Š ä»Šå¤©ä¾†è·Ÿå¤§å®¶ ä¿¡ç®±é©—è­‰\nä¸»è¦ ä¿¡ç®±é©—è­‰å…¶å¯¦ä¹Ÿæ»¿ç°¡å–®çš„å°±æ˜¯ä¾ç…§å®˜æ–¹è¨­å®šå³å¯\nä¸€æ¨£é™„ä¸Šæ–‡ä»¶çµ¦å¤§å®¶ here!\nè¨­å®š smtp é–‹å•Ÿ .env è¨­å®šï¼Œå¯ä»¥ä½¿ç”¨è‡ªå·±çš„ gmail ä¿¡ç®±å¯„ä¿¡\nå¯ä»¥åƒè€ƒåˆ¥äººåˆ†äº«çš„æ•™å­¸æ–‡\n1 2 3 4 5 6 7 8 MAIL_DRIVER=smtp MAIL_HOST=smtp.gmail.com MAIL_PORT=465 MAIL_USERNAME=xxx@gmail.com MAIL_PASSWORD=xxxx MAIL_ENCRYPTION=ssl MAIL_FROM_ADDRESS=xxx@gmail.com MAIL_FROM_NAME=\u0026#34;${APP_NAME}\u0026#34; è¨­å®š User Model é–‹å•Ÿæª”æ¡ˆ App\\Models\\User.php åŠ ä¸Š implements MustVerifyEmail\n1 2 3 4 5 6 7 8 9 10 11 12 namespace App\\Models; use Illuminate\\Contracts\\Auth\\MustVerifyEmail; use Illuminate\\Foundation\\Auth\\User as Authenticatable; use Illuminate\\Notifications\\Notifiable; class User extends Authenticatable implements MustVerifyEmail { use Notifiable; // ... } èª¿æ•´è·¯ç”± é–‹å•Ÿ routes/web.php åœ¨ èª¿æ•´\nAuth::routes();\nAuth::routes([\u0026lsquo;verify\u0026rsquo; =\u0026gt; true]);\n1 Auth::routes([\u0026#39;verify\u0026#39; =\u0026gt; true]); DEMO å¯ä»¥è©¦è‘—è¨»å†Šçœ‹çœ‹ï¼Œ\nå°±æœƒæ”¶åˆ°é©—è­‰ä¿¡äº†\n","date":"2022-11-09T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day9-auth-email-verify/","title":"Day 9. Authentication-2 ä¿¡ç®±é©—è­‰"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 7. View çš„æ¨¡æ¿å¼•æ“: Blade\nä»Šå¤©ä¾†è·Ÿå¤§å®¶ ç™»å…¥èˆ‡è¨»å†Š\nä¸»è¦ Laravel æ–¼è¨»å†Šç™»å…¥é€™æ®µå…¶å¯¦éƒ½åšå¥½äº†ï¼Œ\né™„ä¸Šæ–‡ä»¶ åªè¦å¹¾å€‹æŒ‡ä»¤å†å¾®èª¿ä¸€ä¸‹å°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ï¼Œç›¸ç•¶ä¾¿åˆ©\nç§»åˆ°ç›®éŒ„ä¸‹ï¼Œä¸¦ä¾åºåŸ·è¡Œå³å¯\nå®‰è£å¥—ä»¶ 1 composer require laravel/ui:^2.4 ç”¢ç”Ÿéœ€è¦çš„æª”æ¡ˆ 1 php artisan ui bootstrap --auth php artisan ui å¯ä»¥é¸æ“‡å…¶ä»–é©…å‹•ï¼Œ\nå®˜æ–¹æ˜¯æä¾› vue æˆ‘å€‹äººç¿’æ…£ç”¨ bootstrap å…¶ä»–çš„å¯ä»¥åƒè€ƒ é€™è£¡\nåŸ·è¡Œå®Œå¾Œå¯ä»¥çœ‹åˆ° Laravelçµ¦ä½ åŠ äº†ä¸€äº› Controllerã€viewï¼Œ\nroutes/web.php å‰‡æœƒå‡ºç¾ Auth::routes();é€™å€‹å°±æ˜¯æä¾›ç™»å…¥è¨»å†Šçš„æ‰€æœ‰è·¯ç”±ï¼Œ\nè‹¥æƒ³çŸ¥é“æœ‰å“ªäº›è·¯ç”±å¯ä»¥é€é php artisan route:list ç¢ºèª\nç•«é¢çš„ cssã€js 1 2 npm install npm run dev åŸ·è¡Œåˆ°é€™åŸºæœ¬ç•«é¢å°±å®Œæˆäº†\néœ€è¦æº–å‚™è³‡æ–™è¡¨ å°ˆæ¡ˆå‰›å»ºç«‹å¥½æ™‚ï¼Œæœƒæœ‰ migrations å­˜æ”¾æœƒå“¡ç­‰ç›¸é—œçš„è³‡æ–™è¡¨\nåŸ·è¡Œ\n1 php artisan migrate æ¬ç§» Model ä½ç½® é€™é‚Šæœƒä½¿ç”¨åˆ° Model User å…ˆå‰æœ‰æåˆ° Laravel 7 çš„ Model æœƒæ”¾åœ¨ app/\næˆ‘é€šå¸¸æœƒå†å»ºä¸€å€‹è³‡æ–™å¤¾æ–¼ app/Models å°‡ Model æ”¾åˆ°è£é¢ è¨˜å¾—è¦å¤šæª”æœå°‹ï¼Œæ”¹ä¸€ä¸‹æœ‰ä½¿ç”¨åˆ° User çš„åœ°æ–¹\n1 2 mkdir app/Models mv app/User.php app/Models/User.php ä¿®æ”¹ app/Models/User.php çš„ namespace ç‚º\nnamespace App;\nnamespace App\\Models;\nä¿®æ”¹æ‰€æœ‰ use App\\User;\nDEMO æ­¤æ™‚å›åˆ°å°ˆæ¡ˆæ ¹ç›®éŒ„å°±å¯ä»¥åœ¨å³ä¸Šè§’çœ‹åˆ° LOGIN ã€RIGISTER å°±å¤§åŠŸå‘Šæˆäº† ","date":"2022-11-08T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day8-auth-signup-signin/","title":"Day 8. Authentication-1 ç™»å…¥è¨»å†Š"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 6. ç¬¬ä¸€å€‹é é¢: Controller \u0026amp; View\nä»Šå¤©ä¾†è·Ÿå¤§å®¶åˆ†äº«æ¨¡æ¿å¼•æ“ Blade çš„ä½¿ç”¨æ–¹å¼\nä½¿ç”¨ å¯ä»¥å…ˆåƒè€ƒ å®˜æ–¹æ–‡æª”\nåŸºæœ¬èªæ³•éƒ½æ˜¯ä½¿ç”¨ @\nèˆ‰å€‹ä¾‹å­ï¼Œ\næˆ‘å€‘å¹³å¸¸ä½¿ç”¨çš„ if\n1 2 3 4 5 6 7 8 9 \u0026lt;?php if (true) { echo 1; } elseif (true) { echo 2; } else { echo 3; } ?\u0026gt; ä½¿ç”¨bladeçš„è©±ï¼Œå‰‡æ˜¯é€™æ¨£ç”¨çš„\n1 2 3 4 5 6 7 @if (true) 1 @elseif (true) 2 @else 3 @endif ç¹¼æ‰¿ä½¿ç”¨ (extendsã€yieldã€section) å¯ä»¥å»ºç«‹ä¸€å€‹ä¸»è¦çš„ Bladeï¼ŒæŠŠ headerã€footer æ”¾é€²å»\nå…¶ä»–ç›´æ¥ä½¿ç”¨ @extend ï¼Œå¦‚ä»¥ä¸‹ç¯„ä¾‹\nä¸»è¦æª”æ¡ˆ resources/views/day7/layouts/app.blade.php 1 2 3 4 5 6 7 8 9 10 \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;App Name - @yield(\u0026#39;title\u0026#39;)\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; @yield(\u0026#39;content\u0026#39;) \u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; å‹•æ…‹å…§å®¹å¯ä»¥ä½¿ç”¨ @yield èˆ‡ @section æ­é…\nå…§å®¹æª”æ¡ˆ resources/views/day7/testContent.blade.php 1 2 3 4 5 6 7 @extends(\u0026#39;day7.layouts.app\u0026#39;) @section(\u0026#39;title\u0026#39;, \u0026#39;æ¸¬è©¦æ¨™é¡Œ\u0026#39;) @section(\u0026#39;content\u0026#39;) \u0026lt;p\u0026gt;æ¸¬è©¦å…§æ–‡.\u0026lt;/p\u0026gt; @endsection ç›´æ¥å¼•å…¥ indclude æœ‰äº›åƒæ˜¯ headerã€footer å°±å¯ä»¥ä½¿ç”¨ @indclude çš„æ–¹å¼ç›´æ¥å¼•å…¥æª”æ¡ˆ\nä»¥å‰›å‰›çš„ layouts/app ç‚ºä¾‹\næª”æ¡ˆ resources/views/day7/layouts/app.blade.php 1 2 3 4 5 6 7 8 9 10 11 12 \u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;App Name - @yield(\u0026#39;title\u0026#39;)\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; @include(\u0026#39;day7.layouts.header\u0026#39;) \u0026lt;div class=\u0026#34;container\u0026#34;\u0026gt; @yield(\u0026#39;content\u0026#39;) \u0026lt;/div\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; å°±å¯ä»¥åœ¨ resources/views/day7/layouts/header.blade.php ç·¨å¯« header çš„å…§å®¹ï¼Œ é€™æ¨£çœ‹èµ·ä¾†å°±æœƒæ›´åŠ ä¹¾æ·¨ä¸€äº›ã€‚\nforeach å¦å¤–æä¸€å€‹ï¼Œæˆ‘å€‘å¹³å¸¸é é¢å¾ˆé•·æœƒä½¿ç”¨ foreach Laravel åœ¨é€™ä¸€æ®µé‚„æä¾›äº† Loop åƒæ•¸å¯ä»¥ä½¿ç”¨\nå¯ä»¥åƒè€ƒ loop åƒæ•¸æ–‡ä»¶\nProperty Description $loop-\u0026gt;index The index of the current loop iteration (starts at 0). $loop-\u0026gt;iteration The current loop iteration (starts at 1). $loop-\u0026gt;remaining The iterations remaining in the loop. $loop-\u0026gt;count The total number of items in the array being iterated. $loop-\u0026gt;first Whether this is the first iteration through the loop. $loop-\u0026gt;last Whether this is the last iteration through the loop. $loop-\u0026gt;even Whether this is an even iteration through the loop. $loop-\u0026gt;odd Whether this is an odd iteration through the loop. $loop-\u0026gt;depth The nesting level of the current loop. $loop-\u0026gt;parent When in a nested loop, the parent\u0026rsquo;s loop variable. others method ä¹‹å‰ Day 5. è·¯ç”±: Router æœ‰æåˆ° route method æˆ‘å€‘å°±éœ€è¦åœ¨è¡¨å–®è¨­å®š @method 1 2 3 \u0026lt;form\u0026gt; @method(\u0026#39;PUT\u0026#39;) \u0026lt;/form\u0026gt; ç™»å…¥/è¨ªå®¢ æœ‰æ²’æœ‰ç™»å…¥ä¹Ÿå¯ä»¥åœ¨ Blade è¨­å®š 1 2 3 4 5 6 7 @auth // æœ‰ç™»å…¥ @endauth @guest // è¨ªå®¢(æœªç™»å…¥) @endguest DEMO æ­¤æ™‚ç€è¦½ã€€/bladeTest å°±æœƒçœ‹åˆ°é é¢äº†ï¼\n","date":"2022-11-07T02:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day7-blade/","title":"Day 7. View çš„æ¨¡æ¿å¼•æ“: Blade"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 5. è·¯ç”±: Router\nèŠå®Œè·¯ç”±ï¼Œ\nä»Šå¤©ä¾†è·Ÿå¤§å®¶åˆ†äº«ï¼Œç¬¬ä¸€å€‹é é¢ï¼Œé€é Controller æ¸²æŸ“çš„ç¬¬ä¸€å€‹ã€€view\nä½¿ç”¨ å®£å‘Šä¸€å€‹è·¯ç”± 1 Route::get(\u0026#39;/firstView\u0026#39;, \u0026#39;FirstViewController@firstView\u0026#39;)-\u0026gt;name(\u0026#39;firstView\u0026#39;); å»ºç«‹ Controller 1 php artisan make:controller FirstViewController æˆ‘éƒ½æœƒåœ¨å°ˆæ¡ˆç›®éŒ„åº•ä¸‹åŸ·è¡Œ command lineç”¢ç”Ÿ Controllerï¼Œ\n(è‡ªå·±æ‰‹å‹•å»ºç«‹ä¹Ÿå¯ä»¥)\næœƒç”¢ç”Ÿ Controller æ–¼ /app/Http/Controllers/ åº•ä¸‹ï¼Œ æˆ‘å€‘å¯ä»¥\nåŠ ä¸Šæˆ‘å€‘å‰›å‰›è·¯ç”±è¨­å®šçš„ function firstView() æ–¼ function è£¡ return view('name') 1 2 3 4 5 6 7 8 9 10 11 namespace App\\Http\\Controllers; use Illuminate\\Http\\Request; class FirstViewController extends Controller { public function firstView() { return view(\u0026#39;day6.firstView\u0026#39;); } } å»ºç«‹ View é é¢éƒ½æœƒæ”¾åœ¨ /resources/views/ åº•ä¸‹ï¼Œ\nLaravel çš„ view ä½¿ç”¨ä»–å€‘çš„æ¨¡æ¿å¼•æ“ bladeï¼Œ\næ‰€ä»¥æª”åéƒ½æ˜¯ xxxx.blade.phpï¼Œ\nController function return çš„ viewã€€çœç•¥å¾Œç¶´(.blade.php)ã€€ç‚ºæ–¹ä¾¿ DMEO æˆ‘å°±ç›´æ¥æŠ“ welcome çš„ view\nDEMO æ­¤æ™‚ç€è¦½ã€€/firstView å°±æœƒçœ‹åˆ°é é¢äº†ï¼\n","date":"2022-11-06T02:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day6-first-view/","title":"Day 6. ç¬¬ä¸€å€‹é é¢: Controller \u0026 View"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ å°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nä¸Šä¸€ç¯‡: Day 4. VSCode å¥—ä»¶æ¨è–¦\nä»Šå¤©ä¾†è·Ÿå¤§å®¶åˆ†äº«ï¼Œä½¿ç”¨è€…çš„ç¬¬ä¸€å€‹è·¯å£ï¼šè·¯ç”±\nä½¿ç”¨ å¯ä»¥å…ˆçœ‹çœ‹[å®˜æ–¹æ–‡ä»¶](https://laravel.com/docs/7.x/routing å®˜æ–¹æ–‡ä»¶)\nRoute çš„è¨­å®šåœ¨ routes/ è£¡é¢ï¼Œå¹³å¸¸æœ€å¸¸ä½¿ç”¨çš„æ˜¯ web.phpã€api.phpï¼Œ\né é¢ç”¨ web.phpã€APIå‰‡å¯ä»¥ä½¿ç”¨ api.phpï¼Œ\nä½¿ç”¨çš„èªæ³•æ˜¯ç›¸åŒçš„ï¼Œä»Šå¤©æœƒä»¥ web.phpç‚ºç¯„ä¾‹é€²è¡Œä»‹ç´¹ï¼Œ\nåŸºæœ¬èªæ³• 1 2 3 4 5 # method: GETï¼Œ è·¯å¾‘ï¼š /hello ï¼Œç›´æ¥å›å‚³ï¼š Hello World Route::get(\u0026#39;hello\u0026#39;, function () { return \u0026#39;Hello World\u0026#39;; }); ä¸éé€šå¸¸æˆ‘å€‘éƒ½æœƒé€™æ¨£ä½¿ç”¨ï¼Œ\nè·¯ç”±åªè¨­å®šè·¯ç”±ï¼Œé€™å€‹è·¯ç”±è¦å¹¹å˜›éƒ½æœƒäº¤çµ¦ Controller è™•ç†ï¼Œ\n1 2 3 # method: GETï¼Œ è·¯å¾‘ï¼š /basicRouteUseController ï¼Œäº¤çµ¦ BasicRouteController çš„ Controller Classï¼ŒFunction æ˜¯ index() Route::get(\u0026#39;/basicRouteUseController\u0026#39;, \u0026#39;BasicRouteController@index\u0026#39;); æ–¹æ³• Laravel æä¾›çš„è·¯ç”±æœ‰å¾ˆå¤š method å¯ä»¥è¨­å®šï¼Œ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 Route::get($uri, $callback); # å–®ç´” post Route::post($uri, $callback); # post é€šå¸¸ä½¿ç”¨åœ¨æ›´æ–° Route::put($uri, $callback); Route::patch($uri, $callback); # post åˆªé™¤ Route::delete($uri, $callback); # é€™å€‹æˆ‘æ²’æœ‰ä½¿ç”¨é Route::options($uri, $callback); postå¦‚è¦è¨­å®šå…¶ä»– method å¯æ–¼ html form è¡¨å–®å…§è¨­å®š @method('PUT')\n1 2 3 \u0026lt;form\u0026gt; @method(\u0026#39;PUT\u0026#39;) \u0026lt;/form\u0026gt; åƒæ•¸ åƒæ•¸ä½¿ç”¨å¤§æ‹¬è™Ÿ{}æ¡†èµ·ä¾†ï¼Œç„¶å¾Œåœ¨ function è£¡åŠ åƒæ•¸å³å¯ä½¿ç”¨\n1 2 3 4 5 6 7 8 # /route/web.php Route::get(\u0026#39;/basicRouteWithParam/{id}\u0026#39;, \u0026#39;BasicRouteController@show\u0026#39;); # /app/Http/Controllers/BasicRouteController.php @ show() public function show($id) { echo $id; } å‘½å é€šå¸¸æˆ‘æ‰€æœ‰çš„è·¯ç”±éƒ½æœƒå‘½åï¼Œé€™æ¨£ä¹‹å¾Œè¦ä½¿ç”¨ä¸Šå¯ä»¥ä½¿ç”¨ helper çš„ route() ç›´æ¥èª¿ç”¨ï¼Œ\nè¬ä¸€å“ªå¤© uri è¦è®Šæ›´æ™‚ï¼Œåªè¦ç•°å‹• routes/web.php å³å¯ï¼Œ\nå› ç‚ºæ‰€æœ‰é é¢éƒ½æ˜¯ä½¿ç”¨ route name èª¿ç”¨\nä½¿ç”¨æ–¹æ³•\n1 2 Route::get(\u0026#39;/basicRouteDefineName\u0026#39;, \u0026#39;BasicRouteController@defineName\u0026#39;) -\u0026gt;name(\u0026#39;thisIsBasicRouteDefineName\u0026#39;); å¦‚ç¯„ä¾‹å°±å¯ä»¥ä½¿ç”¨ route('thisIsBasicRouteDefineName') å–å¾—é€™å€‹è·¯ç”±\nç¾¤çµ„ å®˜æ–¹æœ‰æä¾› Route::group å¯ä»¥å°‡è·¯ç”±å€‘åˆ†çµ„\nä½¿ç”¨æ–¹å¼\n1 2 3 4 5 6 7 # prefix = å‰ç¶´ # as = name çš„å‰ç¶´ Route::group([\u0026#39;prefix\u0026#39; =\u0026gt; \u0026#39;routeGroups\u0026#39;, \u0026#39;as\u0026#39; =\u0026gt; \u0026#39;routeGroups\u0026#39; ], function() { Route::get(\u0026#39;/a\u0026#39;, \u0026#39;RouteGroupController@a\u0026#39;)-\u0026gt;name(\u0026#39;a\u0026#39;); Route::get(\u0026#39;/b\u0026#39;, \u0026#39;RouteGroupController@b\u0026#39;)-\u0026gt;name(\u0026#39;b\u0026#39;); Route::get(\u0026#39;/c\u0026#39;, \u0026#39;RouteGroupController@c\u0026#39;)-\u0026gt;name(\u0026#39;c\u0026#39;); }); ç¾¤çµ„å¾Œï¼Œå…¶å¯¦å°±ç­‰æ–¼æ˜¯ \u0026hellip;\n1 2 3 4 5 Route::group([\u0026#39;prefix\u0026#39; =\u0026gt; \u0026#39;routeGroups\u0026#39;, \u0026#39;as\u0026#39; =\u0026gt; \u0026#39;routeGroups\u0026#39; ], function() { Route::get(\u0026#39;/routeGroups/a\u0026#39;, \u0026#39;RouteGroupController@a\u0026#39;)-\u0026gt;name(\u0026#39;routeGroups.a\u0026#39;); Route::get(\u0026#39;/routeGroups/b\u0026#39;, \u0026#39;RouteGroupController@b\u0026#39;)-\u0026gt;name(\u0026#39;routeGroups.b\u0026#39;); Route::get(\u0026#39;/routeGroups/c\u0026#39;, \u0026#39;RouteGroupController@c\u0026#39;)-\u0026gt;name(\u0026#39;routeGroups.c\u0026#39;); }); è¡¨é”ä¸Šæ˜¯ä¸€æ¨£çš„ï¼Œåªæ˜¯æ¯”è¼ƒå¥½é–±è®€è€Œä¸”çœ‹èµ·ä¾†æ¯”è¼ƒæ•´é½Š\nå°æ’‡æ­¥ CRUD è‚¯å®šæ˜¯ä¸€å€‹é é¢æ»¿åŸºæœ¬çš„éœ€æ±‚ï¼Œæˆ‘é€šå¸¸æœƒé€™æ¨£è¨­å®šï¼Œ ä¹‹å¾Œå†è·Ÿå¤§å®¶èŠèŠç‚ºä½•æˆ‘éƒ½æœƒé€™æ¨£è¨­å®šå§\nä»¥æœƒå“¡ã€æ–°å¢ã€ã€ã€ä¿®æ”¹ã€ã€ã€åˆªé™¤ã€ç‚ºç¯„ä¾‹\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 Route::group([\u0026#39;prefix\u0026#39; =\u0026gt; \u0026#39;users\u0026#39;, \u0026#39;as\u0026#39; =\u0026gt; \u0026#39;users.\u0026#39;], function () { // åˆ—è¡¨ Route::get(\u0026#39;/\u0026#39;, \u0026#39;UserController@index\u0026#39;)-\u0026gt;name(\u0026#39;index\u0026#39;); // æ–°å¢ Route::get(\u0026#39;/create\u0026#39;, \u0026#39;UserController@create\u0026#39;)-\u0026gt;name(\u0026#39;create\u0026#39;); Route::post(\u0026#39;/\u0026#39;, \u0026#39;UserController@store\u0026#39;)-\u0026gt;name(\u0026#39;store\u0026#39;); // ç·¨è¼¯ Route::get(\u0026#39;/{user}/edit\u0026#39;, \u0026#39;UserController@edit\u0026#39;)-\u0026gt;name(\u0026#39;edit\u0026#39;); Route::patch(\u0026#39;/{user}\u0026#39;, \u0026#39;UserController@update\u0026#39;)-\u0026gt;name(\u0026#39;update\u0026#39;); // åˆªé™¤ Route::delete(\u0026#39;/{user}\u0026#39;, \u0026#39;UserController@destroy\u0026#39;)-\u0026gt;name(\u0026#39;destroy\u0026#39;); }); ","date":"2022-11-05T02:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day5-router/","title":"Day 5. è·¯ç”±: Router"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ ä¸Šä¸€ç¯‡: Day 3. ç’°å¢ƒè¨­å®š\nä»Šå¤©ä¾†è·Ÿå¤§å®¶åˆ†äº«æˆ‘å¹³å¸¸ä½¿ç”¨ VSCode é–‹ç™¼ Laravel æ™‚å®‰è£çš„å¥—ä»¶å·´\nplugins DotENV å®‰è£é€™å€‹å¾Œï¼Œç·¨è¼¯ .env æª”æ™‚å°±æœƒæœ‰é«˜äº®ï¼Œ\næ¯”è¼ƒå¥½é–±è®€ã€ç·¨è¼¯\nç¶²å€ï¼šLink\nLaravel Blade Snippets Blade æ˜¯ Laravel view çš„æ¨¡æœ¬å¼•æ“ï¼Œ\nå¯ä»¥æé«˜é–±è®€ï¼Œ snippet ä¹Ÿå¯ä»¥å¹«åŠ©é–‹ç™¼\nç¶²å€ï¼šLink\nLaravel Extra Intellisense é–‹ç™¼æ™‚æœƒæœ‰å¾ˆå¤šææ™‚ï¼Œå¦‚è¦ä½¿ç”¨å“ªä¸€å€‹ viewã€config åªè¦æ‰“å‰é¢å°±æœƒæç¤ºå¯ä»¥æ¯”è¼ƒä¸ç”¨ç¿»æ‰¾\nç¶²å€ï¼šLink\nLaravel goto view Controller è¦ return view çš„æ™‚å€™å¯ä»¥åƒé»ç¶²å€ä¸€æ¨£ï¼Œç›´æ¥é–‹å•Ÿæª”æ¡ˆ\nç¶²å€ï¼šLink\nPHP Namespace Resolver å³éµ ã€imoport classã€å°±è‡ªå‹•å¹«ä½  useï¼Œ\nå®Œå…¨ä¸éœ€è¦æ‰¾ class åœ¨å“ªè£¡ï¼Œ\nç¶²å€ï¼šLink\n","date":"2022-11-03T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day4-vscode-plugins/","title":"Day 4. VSCode å¥—ä»¶æ¨è–¦"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ ä¸Šä¸€ç¯‡: Day 2. å®‰è£åŠè³‡æ–™å¤¾ä»‹ç´¹\nä»Šå¤©å‰‡è¦ä¾†ä»‹ç´¹åˆå§‹åŒ–çš„ä¸€äº›è¨­å®šï¼Œ\nä¼ºæœå™¨è¨­å®š æª”æ¡ˆè³‡æ–™å¤¾è¦è¨­å®šåœ¨ å°ˆæ¡ˆè·¯å¾‘/public/\nnginx 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 server { listen 80; listen [::]:80; # (1) ç¶²å€ server_name laravel7-30days.test; # (2)å°ˆæ¡ˆè·¯å¾‘ root /var/www/html/laravel7-30days/public; index index.php index.html index.htm; location / { try_files $uri $uri/ /index.php$is_args$args; } location ~ \\.php$ { try_files $uri $uri/ =404; # (3) phpä½¿ç”¨ # local # fastcgi_pass unix:/var/run/php/php7.3-fpm.sock; # docker fastcgi_pass PHP7.3:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; # for phpstorm / xdebug #fastcgi_param PHP_IDE_CONFIG serverName=localhost; fastcgi_buffers 8 128k; fastcgi_buffer_size 256k; # for long running debug sessions fastcgi_read_timeout 600; #fastcgi_intercept_errors on; include fastcgi_params; } location ~ /\\.ht { deny all; } } apache æˆ‘æœ¬åœ°æ˜¯ä½¿ç”¨ nginx , æ²’æœ‰ä½¿ç”¨ apache\né€™éƒ¨ä»½æ˜¯åƒè€ƒç¶²è·¯ä¸Šçš„\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 \u0026lt;VirtualHost *:80\u0026gt; # (1) å°ˆæ¡ˆè·¯å¾‘ DocumentRoot \u0026#34;/var/www/html/laravel7-30days/public\u0026#34; # (2) ç¶²å€ ServerName laravel7-30days.test # (3) LOGçš„åœ°æ–¹ ErrorLog \u0026#34;/var/www/html/laravel7-30days/storage/laravel7-30days_error.log\u0026#34; CustomLog \u0026#34;/var/www/html/laravel7-30days/storage/laravel7-30days_access.log\u0026#34; combined DirectoryIndex index.php # (4) å°ˆæ¡ˆè·¯å¾‘ \u0026lt;Directory \u0026#34;/var/www/html/laravel7-30days/public\u0026#34;\u0026gt; AllowOverride All Order allow,deny Allow from all \u0026lt;/Directory\u0026gt; \u0026lt;/VirtualHost\u0026gt; åŸ·è¡Œ æ–¼å°ˆæ¡ˆè·¯å¾‘åº•ä¸‹åŸ·è¡Œ\n1 2 3 4 5 6 7 8 9 #è¤‡è£½ä¸€å€‹ç’°å¢ƒæª” cp .env.example .env # composer composer install # npm npm install #ç”Ÿæˆ .env key php artisan key:generate è¨­å®š env æª” .env æª”æ˜¯ç´å…¥ .gitignore çš„æ‰€ä»¥å¾ˆå¤šå€‹äººè¨­å®šçš„æ±è¥¿å¯ä»¥ç›´æ¥æ”¾åœ¨é€™ï¼Œå¦‚ç¶²å€ã€DBé€£ç·š ç­‰ç­‰\nåŸºæœ¬è¨­å®š 1 2 3 4 5 6 7 8 9 10 11 12 13 14 # ç¶²ç«™åç¨± APP_NAME=Laravel-30å¤© # ç’°å¢ƒ æœ¬åœ°(local) æ¸¬è©¦(develop) æ­£å¼(production) ä¹Ÿå¯ä»¥ä¾ç…§å€‹äººå–œå¥½è¨­å®š APP_ENV=local # ç¶²ç«™å¿…é ˆçš„ key (åŸ·è¡Œ php artisan key:generate å°±æœƒç”¢ç”Ÿ) APP_KEY= # æ˜¯å¦è¦é¡¯ç¤ºéŒ¯èª¤ true|false APP_DEBUG=true # ç¶²å€ APP_URL=http://laravel7-30days.test Log Laravel æœ‰è‡ªå·±çš„ LOG å¯ä»¥æŸ¥çœ‹ï¼Œ\næˆ‘éƒ½è¨­å®š daily æ¯å¤©éƒ½æœƒç”¢ç”Ÿä¸€å€‹ LOGæª”\n1 LOG_CHANNEL=daily è‹¥æƒ³è¨­å®šå…¶ä»–çš„å¯ä»¥åƒè€ƒæ–‡ä»¶\nDB è¨­å®š 1 2 3 4 5 6 DB_CONNECTION=mysql DB_HOST=127.0.0.1 DB_PORT=3306 DB_DATABASE=laravel DB_USERNAME=root DB_PASSWORD= Redis è¨­å®š 1 2 3 REDIS_HOST=127.0.0.1 REDIS_PASSWORD=null REDIS_PORT=6379 Mail Server ç™¼ä¿¡ç”¨\n1 2 3 4 5 6 7 8 MAIL_MAILER=smtp MAIL_HOST=smtp.mailtrap.io MAIL_PORT=2525 MAIL_USERNAME=null MAIL_PASSWORD=null MAIL_ENCRYPTION=null MAIL_FROM_ADDRESS=null MAIL_FROM_NAME=\u0026#34;${APP_NAME}\u0026#34; å…¶ä»– ä»¥ä¸‹è¨­å®šæˆ‘éƒ½æ˜¯ä½¿ç”¨é è¨­å€¼ï¼Œ\nä½†é‚„æ˜¯ç°¡å–®è·Ÿå¤§å®¶ä»‹ç´¹ä¸€ä¸‹\néšŠåˆ—è¨­å®šï¼Œå¯ä»¥åƒè€ƒ /config/queue.php è¨­å®šï¼Œé è¨­æ˜¯ syncï¼Œ\nå¦‚å¯„ä¿¡åŠŸèƒ½å°±å¯èƒ½éœ€è¦è¨­å®šï¼Œé¿å…åŸ·è¡Œéç¨‹ä¸­ç•«é¢å¡è‘—ã€‚ 1 QUEUE_CONNECTION=sync Broadcaster å»£æ’­ï¼Œå¯ä»¥ç™¼é€šçŸ¥çš„åŠŸèƒ½\nå¯ä»¥åƒè€ƒ /config/broadcasting.php (é€™å€‹æˆ‘ç›®å‰æ²’ç”¨é) 1 BROADCAST_DRIVER=log å¿«å–è¨­å®šï¼Œå¯ä»¥åƒè€ƒ /config/cache.php 1 CACHE_DRIVER=file Seesion è¨­å®šï¼Œå¯ä»¥åƒè€ƒ /config/session.php 1 2 SESSION_DRIVER=file SESSION_LIFETIME=120 çµèª env çš„è¨­å®šï¼Œéƒ½æ˜¯è·Ÿ /config/ åº•ä¸‹æª”æ¡ˆæ¯æ¯ç›¸é—œï¼Œ\nå¯ä»¥ç†è§£æˆ config æ˜¯é è¨­å€¼ï¼Œ envæ˜¯è¨­å®šå€¼\næ‰€ä»¥æˆ‘é–‹ç™¼æ™‚éƒ½æœƒç›´æ¥ç”¨ config() èª¿ç”¨ä»–å€‘ã€‚\n","date":"2022-11-02T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day3-environment/","title":"Day 3. ç’°å¢ƒè¨­å®š"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ ç’°å¢ƒå»ºç«‹çš„æ–¹å¼æœ‰å¾ˆå¤šç¨®ï¼Œé€™é‚Šå°±ä¸å¤šåšä»‹ç´¹ï¼Œ\nä»¥ä¸‹æå¹¾å€‹æˆ‘çŸ¥é“çš„æ–¹å¼ï¼Œ\nä¹‹å¾Œå¯«ç›¸é—œçš„æ–‡ç« ä»‹ç´¹\nWindows WAMP XAMPP Vagrant \u0026amp; Homestead Linux Nginx + php docker å®‰è£ å®‰è£ composer Download\nç§»åˆ°ä½ è¦å®‰è£ Laravelçš„è·¯å¾‘ï¼Œä¸¦åŸ·è¡Œ\n1 composer create-project --prefer-dist laravel/laravel {{project_name}} \u0026#34;7.*\u0026#34; å¦‚ä¸‹åœ–ç¯„ä¾‹\n1 composer create-project --prefer-dist laravel/laravel laravel7-30days \u0026#34;7.*\u0026#34; è³‡æ–™å¤¾ä»‹ç´¹ å®‰è£å¾Œï¼Œå°ˆæ¡ˆå…§å°±æœƒé•·é€™æ¨£\napp å¾ˆå¤šé–‹ç™¼çš„åœ°æ–¹å¦‚ Controllerã€Middlewareã€Provider ç­‰ç­‰\nè³‡æ–™å¤¾åç¨± ä½œç”¨ app/Console æ”¾ç”¢ç”Ÿ Command Line çš„åœ°æ–¹ï¼Œå¯ä»¥æŠŠæ’ç¨‹æ”¾åœ¨é€™ï¼Œç„¶å¾ŒåŸ·è¡Œ app/Exceptions å ±éŒ¯çš„åœ°æ–¹ï¼Œä¹Ÿå¯ä»¥è‡ªå®šç¾© app/Http/Controller æ”¾ Controller, è·¯ç”±é€²ä¾†å¯ä»¥ç›´æ¥æŒ‡å‘çš„åœ°æ–¹ app/Http/Middleware ä¸­ä»‹å±¤ï¼Œè·¯ç”±é€² Controller åŸ·è¡Œä¹‹å‰å¯ä»¥å…ˆåŸ·è¡Œçš„äº‹æƒ…ï¼Œå¦‚æ¬Šé™ app/Providers å°ˆæ¡ˆåŸ·è¡ŒæœƒåŠ è¼‰çš„åœ°æ–¹ï¼Œè£é¢æœ‰æ¡†æ¶é è¨­çš„ Providerï¼Œä¹Ÿå¯ä»¥è‡ªå®šç¾©è‡ªå·± Provider app/Models (è‡ªå®šç¾©çš„) Laravel7çš„ Model éƒ½æ˜¯ç›´æ¥æ”¾åœ¨ app/ æˆ‘æœƒæŠŠæˆ‘çš„ Model çµ±ä¸€æ”¾åœ¨é€™å€‹è³‡æ–™å¤¾è£é¢ bootstrap æ¡†æ¶åˆå§‹åŒ–çš„åœ°æ–¹ï¼ŒåŸºæœ¬ä¸Šä¸æœƒå‹•åˆ°ä»–ã€‚\nconfig æ”¾è¨­å®šæª”çš„åœ°æ–¹ï¼Œ å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ config() èª¿ç”¨ï¼Œ ä¹Ÿå¯ä»¥è‡ªå®šç¾©config\nèªæ³• : æ–‡ä»¶\n1 config(\u0026#39;\u0026lt;æª”å\u0026gt;.\u0026lt;key\u0026gt;.\u0026lt;key...\u0026gt;\u0026#39;) ç¯„ä¾‹ å–å¾— config/app.php çš„ \u0026ldquo;name\u0026rdquo;\n1 config(\u0026#39;app.name\u0026#39;) database è³‡æ–™å¤¾åç¨± ä½œç”¨ database/factories è³‡æ–™è¡¨ç¨®å­å·¥å» ï¼Œç”¢ç”Ÿå‡è³‡æ–™çš„åœ°æ–¹ database/migrations è³‡æ–™è¡¨çš„è…³æœ¬ï¼Œé€éé€™å€‹å¯ä»¥ç®¡ç†è³‡æ–™è¡¨çš„çµæ§‹ database/seeds å¯ä»¥ç”¢ç”Ÿè³‡æ–™è¡¨çš„å€¼ï¼Œä¹Ÿå¯ä»¥é€é Factories ç”¢ç”Ÿå¤§é‡å‡è³‡æ–™ public å°å¤–é–‹æ”¾çš„åœ°æ–¹ï¼Œä¼ºæœå™¨(nginx|apache)è¦è¨­å®šé€™å€‹è³‡æ–™å¤¾\nresources æ”¾viewã€jsã€css çš„åœ°æ–¹\nroutes è·¯ç”±ï¼Œæœ€å¸¸ä½¿ç”¨åˆ° web.php\nstorage æ”¾æª”æ¡ˆçš„åœ°æ–¹ï¼ŒLOG ä¹Ÿæœƒæ”¾åœ¨é€™è£¡\ntests å–®å…ƒæ¸¬è©¦ç”¨\nvendor composer installçš„å¥—ä»¶ï¼ŒåŸºæœ¬ä¸Šä¸æœƒå‹•åˆ°ä»–ï¼Œåªéœ€è¦ç®¡ç† composer.json å³å¯\nnode_modules åœ–ç‰‡æ²’æœ‰ï¼Œä½†åœ¨åŸ·è¡Œ npm install çš„æ™‚å€™æœƒå‡ºç¾ï¼Œæ”¾å‰ç«¯å¥—ä»¶çš„åœ°æ–¹\nå…¶ä»–æª”æ¡ˆå€‘ åç¨± ä½œç”¨ composer.json ç®¡ç†ç¬¬ä¸‰æ–¹å¥—ä»¶çš„æª”æ¡ˆ composer.lock composer installå¾Œç”¢ç”Ÿçš„æª”æ¡ˆ .env ç’°å¢ƒè¨­å®šæª” ç’°å¢ƒã€DBé€£ç·šã€mailserver \u0026hellip; .env.example ç’°å¢ƒè¨­å®šç¯„ä¾‹æª” .gitignore git çš„å¿½ç•¥æª” package.json npm ç®¡ç†å¥—ä»¶çš„åœ°æ–¹ phpunit.xml å–®å…ƒæ¸¬è©¦è¨­å®šæª” server.php æ²’è¨­å®š nginxã€apache å¯ä»¥ php artisan serve å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ webpack.mix.js åŸ·è¡Œ npm run dev æˆ– npm run \u0026lt;any script\u0026gt; çš„è…³æœ¬ ","date":"2022-11-01T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/11/laravel7-30days-day2-installation/","title":"Day 2. å®‰è£åŠè³‡æ–™å¤¾ä»‹ç´¹"},{"content":"è³‡æº Laravel7 30å¤©: ç›®éŒ„\nå°ˆæ¡ˆé€£çµ: github - laravel7 ä¹‹ 30 å¤©åˆ†äº«\nå‰è¨€ æˆªè‡³ç›®å‰ Laravel å·²ç¶“å‡ºåˆ° version 9 äº†ï¼Œ\nå†éå¹¾å€‹æœˆå¯èƒ½å°± version 10 äº† (é è¨ˆç™¼ä½ˆæ™‚é–“: 2023/2/7)ï¼Œ\nè·é›¢æˆ‘æœ‰åœ¨ä½¿ç”¨çš„ 7 å·²ç¶“æ„ˆä¾†æ„ˆé äº†ï¼Œ\nå¾ˆå¤šæ–°çš„ç”¨æ³•ï¼Œå¥½çš„åŠŸèƒ½ï¼Œå¾ˆé›£äº«å—åˆ°ï¼Œè¦ºå¾—å¾ˆå¯æƒœï¼Œ\næ‰€ä»¥æˆ‘æƒ³æŠŠé€™å€‹ç‰ˆæœ¬åšå€‹ç´€éŒ„ï¼Œ\nä¹‹å¾Œå¯èƒ½æœƒä½¿ç”¨ Laravel æœ€æ–°ç‰ˆæœ¬äº† ~\nWhy Laravel 7 ? éå»æˆ‘ä½¿ç”¨éå¾ˆå¤š 5.x çš„ç‰ˆæœ¬ï¼Œ\nç•¶æ™‚çš„æˆ‘é‚„ä¸å¤ªæœƒé€™å€‹æ¡†æ¶ï¼Œå¾ˆå¤šåŠŸèƒ½ä¸çŸ¥é“ï¼Œ\nç¸½æ˜¯å–œæ­¡ç”¨è‡ªå·±çš„æ–¹å¼ç›´æ¥æŠŠåŠŸèƒ½å»ºç«‹ä¸Šå»ï¼Œ\nåæ­£èƒ½å¤ åŸ·è¡Œå°±å¥½çš„æ¦‚å¿µ\næ–¼ 2020å¹´ï¼Œ ä¹Ÿæ˜¯ Laravel 7 ç™¼ä½ˆçš„é‚£å¹´ï¼Œ\næ…¶å¹¸å‰›å¥½ç•¶æ™‚å…¬å¸ä¾†äº†å€‹ç¥äººç”¢ç”Ÿæ–‡ä»¶ã€å»ºç«‹æœƒè­°æ•™å­¸å¤§å®¶å¦‚ä½•ä½¿ç”¨ï¼Œ\nä½¿ç”¨è‡³ä»Šä¹Ÿå·²ç¶“3å¹´äº†ï¼Œ\nåªèƒ½èªª Laravel ä½¿ PHP æ›´å‰å¤§ã€‚ğŸ‘\nWhat is Laravel ? Laravel æ˜¯ PHP çš„ä¸€å€‹æ¡†æ¶ï¼Œ MVC çš„æ¶æ§‹ï¼Œ\nä½¿ç”¨ä¸Šç›¸ç•¶çš„ä¾¿åˆ©ï¼ŒåŸºæ–¼æ¡†æ¶å»ºç«‹çš„åŠŸèƒ½ï¼Œä¸æœƒèµ°é˜å¤ªåš´é‡ï¼Œæœƒæ¯”è¼ƒå¥½ç¶­è­·ï¼Œ\nå¥½è™•ï¼š\næœ‰éå¸¸å¤šçš„ä½¿ç”¨è€…ï¼Œå¾ˆå¤šä¸æœƒçš„å•é¡Œ google éƒ½æ»¿å®¹æ˜“æ‰¾åˆ°ç­”æ¡ˆ æœ‰ç›¸å°å®Œæ•´çš„æ–‡æª” è³‡æºå¾ˆå¤š:çœ‹ä¸å®Œçš„æ•™å­¸æ–‡ç«  ä½ èªªå¥½ç”¨åˆ°åº•å“ªè£¡å¥½ç”¨ï¼Ÿ\nä»¥ä¸‹ç°¡å–®èˆ‰ä¾‹ä¸€ä¸‹:\nartisan å¯ä»¥ç”¨ command line çš„æ–¹å¼åšå¾ˆå¤šäº‹ è³‡æ–™è¡¨ å¯ä»¥é€é migration ç”¢ç”Ÿ Model å¯ä»¥é€é Eloquent ORM å”åŠ©è¡¨çš„æºé€š Route æ§åˆ¶è·¯ç”±çš„åœ°æ–¹ Controller å°±æ˜¯å¯ä»¥æ‹¿ä¾†å¯«ç¨‹å¼é‚è¼¯çš„åœ°æ–¹ Blade å‰‡æ˜¯ view çš„æ¨¡ç‰ˆå¼•æ“ï¼Œè®“ä½ æ”¾ html çš„åœ°æ–¹\n\u0026hellip; å“ªäº›äººé©åˆé–±è®€é€™ç³»åˆ—æ–‡ç« å‘¢ï¼Ÿ æ­£åœ¨ä½¿ç”¨ Laravel 7 åˆå­¸ Laravel æƒ³è¦ä¸Šæ‰‹ php çš„æ¡†æ¶ æƒ³æ¥è§¸ php MVC æ¡†æ¶å…¥é–€ ","date":"2022-10-30T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/day1.png","permalink":"https://www.chihyu.me/2022/10/laravel7-30days-day1-why-use-laravel/","title":"Day 1. æ–°æ‰‹ä¸Šè·¯ï¼ŒèŠèŠæˆ‘æ„›çš„ Laravel"},{"content":"è³‡æº æˆ‘æœƒæŠŠ 30å¤©çš„ç¯„ä¾‹ç¨‹å¼ç¢¼æ”¾åœ¨github é€£çµ\nç›®éŒ„ Day 1. æ–°æ‰‹ä¸Šè·¯ï¼ŒèŠèŠæˆ‘æ„›çš„ Laravel Day 2. å®‰è£åŠè³‡æ–™å¤¾ä»‹ç´¹ Day 3. ç’°å¢ƒè¨­å®š Day 4. VSCode å¥—ä»¶æ¨è–¦ Day 5. è·¯ç”±: Router Day 6. ç¬¬ä¸€å€‹é é¢: Controller \u0026amp; View Day 7. View çš„æ¨¡æ¿å¼•æ“: Blade Day 8. Authentication-1 ç™»å…¥è¨»å†Š Day 9. Authentication-2 ä¿¡ç®±é©—è­‰ Day 10. Authentication-3 å¿˜è¨˜å¯†ç¢¼/é‡è¨­å¯†ç¢¼ Day 11. å»ºç«‹è³‡æ–™è¡¨: Migration Day 12. Eloquent: Model Day 13. ç¬¬äºŒå€‹é é¢: å€‹äººè³‡æ–™ç¶­è­· Day 14. ä¸­ä»‹å±¤ Middleware Day 15. Eloquent Relationships ä¸€å°ä¸€ Day 16. Eloquent Relationships ä¸€å°å¤š Day 17. Eloquent Relationships å¤šå°å¤š Day 18. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°ä¸€ Day 19. Eloquent Polymorphic Relationships å¤šæ…‹çš„ä¸€å°å¤š Day 20. Eloquent Polymorphic Relationships å¤šæ…‹çš„å¤šå°å¤š Day 21. è³‡æ–™æ•´ç†å¥½å¹«æ‰‹ - Collection Day 22. CRUD å¾ˆç°¡å–® Resource Controller Day 23. å¯¦ä½œ TODO ç·´ç¿’ ä¸Šç¯‡:å‰ç½®ä½œæ¥­ Day 24. å¯¦ä½œ TODO ç·´ç¿’ ä¸‹ç¯‡:ç•«é¢åŠåŠŸèƒ½ Day 25. Validation Day 26. Validation-2 Request è®“ Controller æ›´ä¹¾æ·¨ Day 27. Session Day 28. Log Day 29. åˆ†é  Pagination Day 30. çµæŸ ","date":"2022-10-30T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel7-30days/wellcome.jpeg","permalink":"https://www.chihyu.me/2022/10/laravel7-30days-directory/","title":"ç›®éŒ„"},{"content":"å‰è¨€ ç•¶æˆ‘å€‘çš„åˆ†æ”¯é›¢ä¸»è¦åˆ†æ”¯æ„ˆä¾†æ„ˆé çš„æ™‚å€™\u0026hellip; é™¤äº†ä½¿ç”¨ merge å›è‡ªå·±çš„åˆ†æ”¯å¤–ï¼Œ\né‚„æœ‰å¦ä¸€å€‹é¸æ“‡å°±æ˜¯ rebase\nrebase æ˜¯ä»€éº¼å‘¢ï¼Ÿ ä¸€å¼µåœ–ç‰‡è¡¨ç¤ºä»–ï¼Œå¦‚ä¸‹\n(åœ–ç‰‡è³‡æ–™åƒè€ƒæ–¼ é é¢)\nç°¡å–®ä¾†èªªå‘¢ï¼Œå°±æ˜¯å°‡åŸæœ¬ checkout å‡ºä¾†çš„é»ï¼Œè®Šæ›´ç‚ºç›®æ¨™åˆ†æ”¯æœ€æ–°çš„é»ï¼Œ\nåªä¸é rebase å¾Œï¼Œå› ç‚ºåŸæœ¬è‡ªå·±çš„é ç«¯åˆ†æ”¯æ²’æœ‰è·Ÿä¸Šï¼Œ\nè€Œä¸”å› ç‚ºè®Šæ›´åŸºæº–çš„é—œä¿‚ï¼Œæœƒæ²’æœ‰è¾¦æ³•ç›´æ¥ pushä¸Šå»ï¼Œ éœ€è¦ push -få¼·åˆ¶å°‡åˆ†æ”¯å…§å®¹æ¨ä¸Šå»ï¼Œ\nç•¶ç„¶å¯ä»¥ä¸ç”¨æ“”å¿ƒæœƒä¸æœƒè“‹åˆ°å…¶ä»–äººçš„ç¨‹å¼ï¼Œ å› ç‚ºç•¶ä½  rebase å¾Œï¼Œæœ‰è¡çªå¦³å°±éœ€è¦ç•¶ä¸‹è§£äº†ï¼Œ\nExample 1 2 git rebase master git push origin fix-users -f ","date":"2022-09-27T00:00:00+08:00","image":"https://www.chihyu.me/images/git-cli/banner.jpg","permalink":"https://www.chihyu.me/2022/09/git-cli-rebase/","title":"Git rebase è®Šæ›´åŸºæº–é»"},{"content":"å‰è¨€ ä½¿ç”¨çš„ç‰ˆæœ¬ Laravel: 7\nphp: 7.3\næˆ‘å€‘éƒ½çŸ¥é“åœ¨ Laravel è£¡é¢å–å¾—è³‡æ–™åº«è³‡æ–™å¯ä»¥ä½¿ç”¨ Eloquent ORM ã€Query Builderï¼Œ\nä»Šå¤©å°±ä¾†èŠèŠå…©è€…åˆ°åº•å·®åœ¨å“ªè£¡å·´ ~\nä¸»è¦å…§å®¹ Eloquent ORM é€éç‰©ä»¶çš„æ–¹å¼èª¿ç”¨è³‡æ–™ï¼Œ\nå¯åƒè€ƒ æ–‡ä»¶ï¼Œç›¸é—œèªæ³•å¦‚ä¸‹\n1 2 3 use App\\Models\\User; // ... User::where(\u0026#39;name\u0026#39;, \u0026#39;Jason\u0026#39;)-\u0026gt;first(); Query Builder ç›´æ¥å°è³‡æ–™è¡¨é€²è¡Œèª¿ç”¨ï¼Œ\nå¯å…ˆåƒè€ƒ æ–‡ä»¶ï¼Œç›¸é—œèªæ³•å¦‚ä¸‹\n1 2 3 use Illuminate\\Support\\Facades\\DB; // ... DB::table(\u0026#39;users\u0026#39;)-\u0026gt;where(\u0026#39;name\u0026#39;, \u0026#39;Jason\u0026#39;)-\u0026gt;first(); ä»¥ä¸Šå…©æ®µç¨‹å¼ç¢¼ï¼Œéƒ½æ˜¯åœ¨å– name = Jason çš„äººï¼Œå–å‡ºä¾†çš„å€¼ä¹Ÿèƒ½ç›´æ¥ä½¿ç”¨\né€Ÿåº¦æ¯”è¼ƒ å› ç‚ºæˆ‘é€™æ®µSQLæ¯”è¼ƒç°¡å–®ï¼Œæ‰€ä»¥å¾ˆé›£çœ‹å‡ºé€Ÿåº¦å“ªå€‹æ¯”è¼ƒå¿«\næ–¼æ˜¯æˆ‘ç¶²è·¯ä¸Šæ‰¾äº†ä¸€ä¸‹è³‡æºï¼Œå¦‚ä¸‹æ‰€ç¤º\n(åœ–ç‰‡è³‡æ–™åƒè€ƒæ–¼ é é¢)\nQuery Builder èª¿ç”¨çš„é€Ÿåº¦ä¸Šæ¯” Eloquent é‚„è¦å¿«å¾ˆå¤š (å°‡è¿‘ä¸€å€)\né€™æ¨£ä½ èªª Query Builder æ¯”è¼ƒå¿«ï¼ŒåŸ·è¡Œä¸Šèªæ³•ä¹Ÿå·®ç•°ä¸å¤§ï¼Œç‚ºä½•é‚„è¦é¸æ“‡ä½¿ç”¨ Eloquent å‘¢ï¼Ÿ\nEloquent å„ªå‹¢åœ¨å“ªè£¡ï¼Ÿ å¢åŠ ç¨‹å¼ç¢¼é–±è®€ relationship é—œè¯å…¶ä»– Model Accessors Soft Deletes Scopes Mutators \u0026amp; Casting \u0026hellip;\u0026hellip; ç­‰ç­‰åŠŸèƒ½ é›–ç„¶ Eloquent çš„æ•ˆèƒ½æ¯”è¼ƒä¸å¥½ï¼Œä½†å› è‘—é€™äº›å¼·å¤§åŠŸèƒ½è¦ºå¾—ä¹Ÿæ˜¯ç¨®å–æ¨\nçµè«– æˆ‘å¤§éƒ¨åˆ†çš„åŠŸèƒ½éƒ½æœƒä½¿ç”¨ Eloquent èˆ‡ Collection é”æˆä¸€å€‹çµ„åˆæŠ€ï¼Œè¦åŠƒä¸¦å®Œæˆï¼Œ\nä¸éè‹¥æ˜¯ä¸€æ¬¡æ€§æˆ–ä¸å¤ªæœƒç•°å‹•çš„åŠŸèƒ½ï¼Œæ„Ÿè¦ºå°±å¯ä»¥è€ƒæ…®çœ‹çœ‹ Query Builderï¼Œ\né›–ç„¶æˆ‘é‚„æ˜¯éƒ½ä½¿ç”¨ Eloquent ç•¢ç«Ÿé‡åˆ°å¾ŒçºŒçš„éœ€æ±‚ä¿®æ”¹ï¼Œæœƒç›¸å°æå‡å¯å¡‘æ€§(å¥½è®€ã€å¥½æ”¹)\n","date":"2022-09-21T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel-magic/banner-eloquent-or-query-builder.png","permalink":"https://www.chihyu.me/2022/09/laravel-magic-eloquent-or-query-builder/","title":"Laravel Eloquent Or Query Builder"},{"content":"intro å®Œå…¨ä¾†è‡ª æ–‡ä»¶ ä½¿ç”¨ï¼Œ\næ ¹æ“šå–åˆ°arrayï¼Œçµ„å‡ºæ‰€æœ‰çš„çµ„åˆã€‚\nmain 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 function getCombinations($arrays) { $result = [[]]; foreach ($arrays as $property =\u0026gt; $property_values) { $tmp = []; foreach ($result as $result_item) { foreach ($property_values as $property_value) { $tmp[] = array_merge($result_item, [$property =\u0026gt; $property_value]); } } $result = $tmp; } return $result; } $combinations = getCombinations([ 1 =\u0026gt; [\u0026#39;a1\u0026#39;, \u0026#39;a2\u0026#39;, \u0026#39;a3\u0026#39;], 2 =\u0026gt; [\u0026#39;b1\u0026#39;, \u0026#39;b2\u0026#39;, \u0026#39;b3\u0026#39;], ]); example-output ","date":"2022-08-10T02:00:00+08:00","image":"https://www.chihyu.me/images/php/banner.jpg","permalink":"https://www.chihyu.me/2022/08/php-array-get-combinations/","title":"PHP Array - å„ç¨®å¯èƒ½çš„çµ„åˆ"},{"content":" 1 2 3 4 5 6 7 8 9 10 11 // $list : åŸå§‹è³‡æ–™ // $sorts : ç·¨æ’åˆ—è¡¨ // $item[\u0026#39;sort] : æ¬²æ’åºçš„key $sorts = array(); foreach ($list as $item) { $sorts[] = $item[\u0026#39;sort\u0026#39;]; } $new_list = array_multisort($sorts, SORT_ASC, $list); ","date":"2022-08-07T02:00:00+08:00","image":"https://www.chihyu.me/images/php/banner.jpg","permalink":"https://www.chihyu.me/2022/08/php-array-deep-sort-by-key/","title":"PHP Array - æ’åºä¾ç…§ key å€¼"},{"content":"intro å¯åƒè€ƒ æ–‡ä»¶\nmain Laravel é è¨­çš„è³‡æ–™è¡¨åç¨±(TableName)éƒ½æ˜¯ Model åç¨±çš„è¤‡æ•¸ï¼Œ\næˆ‘ç¿’æ…£å»ºç«‹ make:model æ™‚åŠ ä¸Š -mï¼Œ\né€™æ¨£å»ºç«‹ modelæ™‚ï¼Œä¹Ÿå»ºç«‹ migration, è³‡æ–™è¡¨åç¨±(TableName) ä¹Ÿæœƒå¹«æˆ‘è¨­å®šå¥½,\nEX:\n1 php artisan make:model Member -m ä½†å¦‚æœæˆ‘éœ€è¦ç¨ç«‹é–‹çš„è©±ï¼Œæˆ–tableä¸æ˜¯ä¾†è‡ªmigrationï¼Œ\næˆ‘å¯ä»¥å»ºç«‹ä¸€å€‹ Model,\nä¸¦ç›´æ¥å®šç¾©ä»–è¦ä½¿ç”¨çš„ Tableï¼Œ\nå¦‚æ­¤ä¸€ä¾†ï¼Œ\né€™å€‹Tableå°±å¯ä»¥ä½¿ç”¨ Eloquent çš„å¼·å¤§åŠŸèƒ½ ï¼\nç¯„ä¾‹ æª”æ¡ˆ: app\\Models\\Member.php\n1 2 3 4 class Member extends Model { protected $table = \u0026#39;member_list\u0026#39;; } ","date":"2022-08-04T02:00:00+08:00","image":"https://www.chihyu.me/images/laravel-magic/banner-eloquent-customize-table-name.png","permalink":"https://www.chihyu.me/2022/08/laravel-magic-eloquent-eloquent-customize-table-name/","title":"Laravel Eloquent è‡ªå®šç¾©è³‡æ–™è¡¨åç¨±(TableName)"},{"content":"å‰è¨€ æˆ‘ä½¿ç”¨çš„ç‰ˆæœ¬ Laravel: 7\nphp: 7.3\nspatie/laravel-permission: 3\nå¯å…ˆåƒè€ƒ æ–‡ä»¶\nä»‹ç´¹ æ¯å€‹ç¶²ç«™é–‹ç™¼å¾€å¾€éƒ½éœ€è¦ä½¿ç”¨è€…çš„æ¬Šé™è¨­å®š\né€™äº›åŠŸèƒ½å…¶å¯¦å°±é‚£äº› ~\nå“ªäº›è§’è‰²å¯ä»¥ä½¿ç”¨? å“ªäº›æ¬Šé™å¯ä»¥ä½¿ç”¨? spatie/laravel-permission ä¸»è¦å°±æ˜¯è¦è§£æ±ºé€™å€‹å•é¡Œ æ¯å€‹ä½¿ç”¨è€…å¯ä»¥è¨­å®šå¤šè§’è‰²/å¤šæ¬Šé™ ç›¸ç•¶æ–¹ä¾¿\nå¿«é€Ÿä¸Šæ‰‹ å®‰è£åŠåˆå§‹åŒ– åœ¨çµ‚ç«¯æ©ŸåŸ·è¡Œå®‰è£ 1 composer require spatie/laravel-permission é–‹å•Ÿå°ˆæ¡ˆæª”æ¡ˆ config/app.php 1 2 3 4 \u0026#39;providers\u0026#39; =\u0026gt; [ // ... Spatie\\Permission\\PermissionServiceProvider::class, ]; èˆ‡çµ‚ç«¯æ©ŸåŸ·è¡Œï¼Œå¼•å…¥å¥—ä»¶çš„æª”æ¡ˆ è£¡é¢å«æœ‰ migrationã€configæª”(config/permission.php) 1 php artisan vendor:publish --provider=\u0026#34;Spatie\\Permission\\PermissionServiceProvider\u0026#34; å†æ–¼çµ‚ç«¯æ©ŸåŸ·è¡Œï¼Œå»ºç«‹è³‡æ–™è¡¨ 1 php artisan migrate åœ¨éœ€è¦ä½¿ç”¨æ¬Šé™çš„Model å¼•ç”¨ 1 2 3 4 5 6 7 8 9 use Illuminate\\Foundation\\Auth\\User as Authenticatable; use Spatie\\Permission\\Traits\\HasRoles; // ------ åŠ é€™å€‹ Use Class** class User extends Authenticatable { use HasRoles; // ------ åŠ é€™å€‹** // ... } å»ºç«‹è§’è‰²åŠæ¬Šé™ 1 2 3 4 5 use Spatie\\Permission\\Models\\Role; use Spatie\\Permission\\Models\\Permission; $role = Role::create([\u0026#39;name\u0026#39; =\u0026gt; \u0026#39;writer\u0026#39;]); $permission = Permission::create([\u0026#39;name\u0026#39; =\u0026gt; \u0026#39;edit articles\u0026#39;]) å°‡è§’è‰²è¨­å®šæŸäº›æ¬Šé™ 1 2 $role = Role::find(1); $role-\u0026gt;permissions()-\u0026gt;sync($permissions_id); çµ¦ä½¿ç”¨è€…è§’è‰²èˆ‡æ¬Šé™ 1 2 3 4 5 6 7 // çµ¦è§’è‰² $role = Role::find($role_id); $user-\u0026gt;assignRole($role); // çµ¦æ¬Šé™ $permission = Permission::find($permission_id); $user-\u0026gt;givePermissionTo($permission); å–å¾—ä½¿ç”¨è€…è§’è‰²æˆ–æ¬Šé™ å–å¾—ä½¿ç”¨è€…è§’è‰² 1 2 $user = User::find(1); $roles = $user-\u0026gt;roles; å–å¾—ä½¿ç”¨è€…æ¬Šé™ 1 2 3 4 5 6 7 $user = User::find(1); # æ–¹æ³•ä¸€ $user-\u0026gt;getPermissionsViaRoles(); # æ–¹æ³•äºŒ $user-\u0026gt;getAllPermissions(); å…¶ä»– æ›´å¤šè³‡è¨Šå¯ä»¥åƒé–±ä»–å€‘å®˜æ–¹çš„æ–‡ä»¶\nå¯å…ˆåƒè€ƒ æ–‡ä»¶\nçµèª é€™å€‹å¥—ä»¶çœŸçš„æ»¿å¥½ç”¨çš„\nä¸”ä½¿ç”¨è€…ä¹Ÿå¤šï¼Œè¬ä¸€é‡åˆ°å•é¡Œ Stackoverflow ä¹Ÿå¾ˆå¤šè§£æ³•\nçœŸå¿ƒæ¨è–¦çµ¦å¤§å®¶ ğŸ˜„\n","date":"2022-07-30T00:00:00+08:00","image":"https://www.chihyu.me/images/laravel-magic/banner-packages-spatie-laravel-permission.png","permalink":"https://www.chihyu.me/2022/07/laravel-magic-packages-spatie-laravel-permission/","title":"Laravel ç”¨æˆ¶è§’è‰²/æ¬Šé™è¼•é¬†è¨­å®šçš„å¥—ä»¶"},{"content":"main 1 2 3 4 5 \\DB::enableQueryLog(); // Enable query log // ... query ... dd(\\DB::getQueryLog()); // Show results of log example 1 2 3 \\DB::enableQueryLog(); // Enable query log $product = Product::find(1); dd(\\DB::getQueryLog()); // Show results of log ","date":"2022-07-16T02:00:00+08:00","image":"https://www.chihyu.me/images/laravel-magic/banner-db-query-log.png","permalink":"https://www.chihyu.me/2022/07/laravel-magic-db-query-log/","title":"Laravel å–å¾—å€é–“çš„SQL"},{"content":"intro å¯åƒè€ƒ æ–‡ä»¶\nmain Laravel é è¨­çš„ pKey æ˜¯ id\nåœ¨ Model è£¡åŠ å…¥ $primaryKey åƒæ•¸ï¼Œå°±å¯ä»¥ä½¿ç”¨é€™å€‹è‡ªå®šç¾© pKeyï¼Œ\nå¦‚æ­¤ä¸€ä¾†å¾ŒçºŒçš„é—œè¯å°±ä¸ç”¨æ¯æ¬¡éƒ½å®šç¾©é—œè¯çš„ key\næª”æ¡ˆ: app\\Models\\Product.php\n1 2 3 4 class Product extends Model { protected $primaryKey = \u0026#39;product_id\u0026#39;; } ","date":"2022-07-10T02:00:00+08:00","image":"https://www.chihyu.me/images/laravel-magic/banner-eloquent-customize-primary-key.png","permalink":"https://www.chihyu.me/2022/07/laravel-magic-eloquent-customize-primary-key/","title":"Laravel Eloquent è‡ªå®šç¾©ä¸»éµ(primary-key)"},{"content":"Main æ¯”å°å…©å€‹ç‰ˆæœ¬ï¼Œä¸¦å°‡æœ‰ç•°å‹•çš„æª”æ¡ˆåŒ¯å‡ºåˆ°æŒ‡å®šç›®éŒ„\n1 git archive --output=\u0026lt;/folder/filename\u0026gt;.tar HEAD $(git diff --name-only \u0026lt;commit_id\u0026gt; \u0026lt;commit_id\u0026gt;) Example å°‡ç‰ˆæœ¬ 1b7760a åŠ ç‰ˆæœ¬ d3be133 æœ‰ç•°å‹•çš„æª”æ¡ˆï¼ŒåŒ¯å‡ºåˆ° /home/chihyu/Backup/ æª”å test.tar\n1 git archive --output=/home/chihyu/Backup/test.tar HEAD $(git diff --name-only 1b7760a d3be133) ","date":"2022-07-02T14:11:17+08:00","image":"https://www.chihyu.me/images/git-cli/banner.jpg","permalink":"https://www.chihyu.me/2022/07/git-cli-archive-export-files-with-diff/","title":"Git åŒ¯å‡ºç•°å‹•çš„æª”æ¡ˆ"},{"content":"intro ä¸€èˆ¬æˆ‘å€‘ä¸‹ git diff çš„æ™‚å€™ï¼Œå°±æœƒé¡¯ç¤ºæ‰€æœ‰ç•°å‹•çš„æª”æ¡ˆã€è¡Œã€å€¼ \u0026hellip;\næœ‰æ™‚å€™å…¶å¯¦åªæ˜¯æƒ³æ‰¾å‡ºæœ‰ç•°å‹•çš„æª”æ¡ˆ\nå¯ä»¥ä½¿ç”¨ --name-only\nmain 1 git diff --name-only \u0026lt;commit_id\u0026gt; \u0026lt;commit_id\u0026gt; example 1 git diff --name-only 3b7760a 43be138 å°‡ç‰ˆæœ¬ 3b7760a åŠ ç‰ˆæœ¬ 43be138 æœ‰ç•°å‹•çš„æª”æ¡ˆï¼Œåˆ—å‡ºä¾†\n","date":"2022-07-01T14:20:46+08:00","image":"https://www.chihyu.me/images/git-cli/banner.jpg","permalink":"https://www.chihyu.me/2022/07/git-cli-diff-name-only/","title":"Git æ¯”å°åªé¡¯ç¤ºæª”æ¡ˆåˆ—è¡¨"},{"content":"What is chunk å¯ä»¥å°‡ chunk ç†è§£æˆ\u0026hellip;\næˆ‘å°‡ä¸€å¤§çµ„è³‡æ–™åˆ†ã€Œå¡Šã€è™•ç†ï¼Œ\nè€Œä¸æ˜¯é€ç­†è™•ç†\nWhy chunk å‡è¨­æ¯ç­†å°±è¦åŸ·è¡Œä¸€æ®µSQLï¼Œ\né€™æ¨£æˆ‘ 5000ç­†è³‡æ–™ï¼Œå°±è¦åŸ·è¡Œ 5000æ¬¡\nå¦‚æœæˆ‘å°‡é€™ 5000 ç­†ï¼Œæ¯ 500 åˆ†æˆä¸€å¡Šï¼Œæˆ‘åªè¦åŸ·è¡Œ 10 æ¬¡ã€‚\nå¦‚æ­¤ä¸€ä¾†å¯ä»¥æœ‰æ•ˆç¸®æ¸›åŸ·è¡Œæ™‚é–“ä¹Ÿé™ä½äº†DBçš„è² æ“”ã€‚\nHow to chunk Laravel chunk åˆ†æˆä¸‰ç¨®\nQuery Builder chunk Eloquent chunk Collection chunk å‡è¨­æƒ…å¢ƒ ç•¶æˆ‘æœ‰å¥½å¹¾è¬çš„æœƒå“¡ï¼Œæ¯å¹´è¦è´ˆé€ 100é»çš„é»æ•¸çµ¦ä»–å€‘ï¼Œ\næˆ‘å€‘å»ºç«‹äº†ä¸€å€‹æ’ç¨‹ï¼Œæ¯å¹´1æœˆ1æ—¥è´ˆé€ï¼Œ\néš¨è‘—æœƒå“¡æ•¸é‡çš„å¢åŠ ï¼ŒåŸ·è¡Œæ™‚é–“æœƒæ„ˆä¾†æ„ˆä¹…ï¼Œ\næˆ‘å€‘å¿…é ˆè‘—æ‰‹å„ªåŒ–é€™æ®µæ’ç¨‹ \u0026hellip;\nOriginal (No chunk) ç•¶æˆ‘å€‘æ²’æœ‰chunké€šå¸¸éƒ½æ˜¯é€ç­†å¯«å…¥\né€™é‚Šç”¨ each ä½œç‚ºç¯„ä¾‹\n1 2 3 4 5 6 7 8 9 10 11 12 User::query() -\u0026gt;get() -\u0026gt;each(function($user) { Point::insert([ \u0026#39;amount\u0026#39; =\u0026gt; 100, \u0026#39;user_id\u0026#39; =\u0026gt; $user-\u0026gt;id, \u0026#39;created_at\u0026#39; =\u0026gt; now()-\u0026gt;toDateTimeString(), \u0026#39;updated_at\u0026#39; =\u0026gt; now()-\u0026gt;toDateTimeString(), ]); }); Query Builder chunk å¯åƒè€ƒ æ–‡ä»¶\nä½¿ç”¨æ–¹å¼å’Œ Eloquent chunk ç›¸åŒ\næ‰€ä»¥æˆ‘æœƒåœ¨ä¸‹æ–¹ Eloquent chunk å…±åŒè§£é‡‹\nEloquent chunk å¯åƒè€ƒ å®˜æ–¹æ–‡ä»¶\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 User::query() -\u0026gt;chunk(500, function($users) { $data = []; foreach ($users as $user) { $data[] = [ \u0026#39;amount\u0026#39; =\u0026gt; 100, \u0026#39;user_id\u0026#39; =\u0026gt; $user-\u0026gt;id, \u0026#39;created_at\u0026#39; =\u0026gt; now()-\u0026gt;toDateTimeString(), \u0026#39;updated_at\u0026#39; =\u0026gt; now()-\u0026gt;toDateTimeString(), ]; } Point::insert($data); }); é‹ä½œçš„æ–¹å¼æ˜¯ç”¨ SQL ï¼Œ\nä½¿ç”¨ limit 500 offset 0 ã€ limit 500 offset 500 \u0026hellip;.. ç›´åˆ°åˆ†å®Œå…¨éƒ¨\nåœ¨ query ç•¶ä¸‹å°±åˆ†å¡Šã€‚\nCollection chunk å¯åƒè€ƒ å®˜æ–¹æ–‡ä»¶\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 $chunks = User::query() -\u0026gt;get() -\u0026gt;map(function($user) { return [ \u0026#39;amount\u0026#39; =\u0026gt; 100, \u0026#39;user_id\u0026#39; =\u0026gt; $user-\u0026gt;id, \u0026#39;created_at\u0026#39; =\u0026gt; now()-\u0026gt;toDateTimeString(), \u0026#39;updated_at\u0026#39; =\u0026gt; now()-\u0026gt;toDateTimeString(), ]; }) -\u0026gt;chunk(500) -\u0026gt;toArray(); foreach ($chunks as $chunk) { Point::insert($chunk); } é‹ä½œçš„æ–¹å¼æ˜¯å…ˆéƒ½ queryå‡ºä¾†ï¼Œå†ç”¨ php æ•´ç†çš„ï¼Œ\nå¦‚åœ–æ‰€ç¤º\næ¯”è¼ƒ è€å¯¦èªªä½¿ç”¨å“ªä¸€å€‹å…¶å¯¦æ„Ÿè¦ºä¸å‡ºä¾†ï¼Œ\nå› ç‚ºåŸ·è¡Œæ•ˆç‡å·®ä¸å¤šï¼Œ\nEloquent åƒDBè³‡æºï¼ŒCollection åƒè¨˜æ†¶é«”è³‡æºï¼Œ\nCollection chunk é‡éç›´æ¥ç¶²é åŸ·è¡Œï¼Œè¨˜æ†¶é«”åƒæ›äº†çš„å•é¡Œï¼Œ\næœ€å¾Œæˆ‘é‚„æ˜¯é¸æ“‡äº† Eloquent chunk\né›–ç„¶ åŸ·è¡Œçš„SQLå¤šäº†ä¸€äº› queryï¼Œä½†ä¸æœƒåƒä½ è¨˜æ†¶é«”ï¼Œ\nä¹Ÿæ˜¯çœ‹å¤§å®¶å–æ¨æ‹‰ ~\né€™æ˜¯æˆ‘åŸ·è¡Œ3åƒç­†çš„è³‡è¨Š\nè³‡æ–™é‡ é‹ç”¨ èŠ±è²»æ™‚é–“ è¨˜æ†¶é«” 3000ç­† Original (No chunk) 6.6s 142MB 3000ç­† Eloquent chunk 1.52s 33MB 3000ç­† Collection chunk 1.49s 141MB é¡Œå¤–è©± é€™è£¡çš„å¯«å…¥ä½¿ç”¨äº† Point::insert ç‚ºä½•ä¸ä½¿ç”¨ Point::create ?\næ˜¯ç‚ºäº†æ‰¹æ¬¡å¯«å…¥åŠæ•ˆç‡çš„å•é¡Œè€ƒé‡ï¼Œ\nä¹‹å¾Œå†ä¾†èŠèŠ Laravel insert \u0026amp; Laravel create å·®ç•°å§\n","date":"2022-06-25T02:00:00+08:00","image":"https://www.chihyu.me/images/laravel-magic/banner-chunk.png","permalink":"https://www.chihyu.me/2022/06/laravel-magic-chunk/","title":"Laravel å¤§é‡å¯«å…¥çš„å¥½å¹«æ‰‹ chunk"},{"content":"Laravel Magic ç³»åˆ—ç‚ºæˆ‘ä½¿ç”¨ Laravel çš„æ™‚æ–¹ä¾¿çš„åŠŸèƒ½ã€æ¨èçš„æ’‡å¸ƒç­‰ç­‰ \u0026hellip;\nå¯ä»¥ç•¶ä½œ Laravel çš„é›œè¨˜ ~\næˆ‘èªç‚º Laravel æä¾›å¾ˆå¤šç¥å¥‡æ–¹æ³•ï¼Œ\nä½¿ç”¨èµ·ä¾†å°±åƒæ˜¯é­”è¡“èˆ¬çš„ç¾å¦™\næ•…ä»¥æ­¤å‘½åã€‚ğŸ‘ğŸ‘ğŸ‘\n","date":"2022-06-23T23:08:15+08:00","image":"https://www.chihyu.me/images/laravel-magic/banner.png","permalink":"https://www.chihyu.me/2022/06/laravel-magic-intro/","title":"Laravel Magic ç³»åˆ— - ç¬¬1ç¯‡"},{"content":"Main åˆªé™¤é ç«¯åˆ†æ”¯ 1 git push origin :\u0026lt;branch\u0026gt; åˆªé™¤æœ¬åœ°åˆ†æ”¯ 1 git branch -d \u0026lt;branch\u0026gt; Example 1 2 3 4 5 6 # åˆªé™¤é ç«¯åˆ†æ”¯ git push origin :fix-order # åˆªé™¤æœ¬åœ°åˆ†æ”¯ git branch -d fix-order ","date":"2022-06-18T00:00:00+08:00","image":"https://www.chihyu.me/images/git-cli/banner.jpg","permalink":"https://www.chihyu.me/2022/06/git-cli-delete-branch/","title":"Git åˆªé™¤åˆ†æ”¯"},{"content":"Intro å¾ˆå¤šå°ˆæ¡ˆå¸¸éœ€è¦é–‹ç«‹æ–°åˆ†æ”¯ï¼Œé¿å…å¤§å®¶åŠŸèƒ½æ‰“æ¶æˆ–æœ‰äº›åŠŸèƒ½å¯èƒ½è¦å…ˆä¸Šç·š \u0026hellip; ç­‰ç­‰å•é¡Œ\nå¦‚æœéƒ½ä½¿ç”¨åŒä¸€å€‹åˆ†æ”¯ï¼Œå°±æœƒå¾ˆéº»ç…©\nç•¶ç„¶æ¯å€‹åœ˜éšŠï¼Œéƒ½æœ‰ç¿’æ…£çš„ git workflowï¼Œ è¦ºå¾—åªè¦æœ‰æ•ˆæå‡å°ˆæ¡ˆæ•ˆç‡ã€å”åŠ©åˆ†å·¥ï¼Œéƒ½æ˜¯å¥½æ–¹æ³•\nMain 1 2 # -b create and checkout a new branch git checkout -b \u0026lt;branch\u0026gt; git checkout åŒæ™‚ä¹Ÿæ˜¯åˆ‡æ›åˆ†æ”¯çš„æ–¹æ³•\nExample 1 2 3 4 5 6 # åœ¨ master åˆ†æ”¯ï¼Œé–‹ç«‹æ–°åˆ†æ”¯ \u0026#34;develop\u0026#34; # ä¸‹é€™æŒ‡ä»¤å°±æœƒé–‹ç«‹åˆ†æ”¯ï¼ŒåŒæ™‚åˆ‡æ›éå»é‚£å€‹åˆ†æ”¯ git checkout -b develop # åœ¨ develop åˆ†æ”¯åˆ‡æ›å› master åˆ†æ”¯ git checkout master ","date":"2022-06-15T00:00:00+08:00","image":"https://www.chihyu.me/images/git-cli/banner.jpg","permalink":"https://www.chihyu.me/2022/06/git-cli-create-new-branch/","title":"Git é–‹æ–°åˆ†æ”¯"},{"content":"Main 1 2 3 4 5 6 7 8 9 10 11 12 13 14 #1 æª¢æŸ¥ç›®å‰ç•°å‹•ç‹€æ…‹ git status #2 å°‡æª”æ¡ˆæ–°å¢ä¸Šå»ç´¢å¼• git add . #3 å†æª¢æŸ¥ä¸€æ¬¡ç•°å‹•ç‹€æ…‹ git status #4 commit ä¸Šå» git commit -m \u0026#39;èªªæ˜ xxxx\u0026#39; #5 æœ€å¾Œ push ä¸Šå» git push origin \u0026lt;branch\u0026gt; ","date":"2022-06-11T00:00:00+08:00","image":"https://www.chihyu.me/images/git-cli/banner.jpg","permalink":"https://www.chihyu.me/2022/06/git-cli-push-to-origin/","title":"Git å¦‚ä½•æ›´æ–°ç¨‹å¼è‡³é ç«¯"}]